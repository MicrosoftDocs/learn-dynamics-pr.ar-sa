---
ms.openlocfilehash: 0cddca5470b4d94d56a68b77d7f833f01934e075
ms.sourcegitcommit: d8ae5ea2abe98cfc202df6bdbffd7c56806ae143
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 03/31/2021
ms.locfileid: "6070479"
---
لإعداد موصل المدفوعات في Commerce، سيتعين عليك:

- تعيين طريقة دفع محفظة PayPal إلى طريقة دفع المعالج
- إعداد موصل مدفوعات PayPal في خدمات الدفع
- تكوين PayPal لوحدة الخروج على واجهة المتجر‬
- الدخول في علاقة تاجر مع PayPal

## <a name="map-the-paypal-wallet-payment-method-to-a-processor-payment-method"></a>تعيين طريقة دفع محفظة PayPal إلى طريقة دفع المعالج
لتعيين طريقة دفع محفظة PayPal إلى طريقة دفع المعالج، ‏‫اتبع الخطوات التالية.‬ 

1. انتقل إلى **Retail والتجارة \> إعداد القناة \> طرق الدفع \> طرق الدفع**.
2. حدد **جديد**.
3. حدد **معرف طريقة الدفع** و **اسم طريقة الدفع**، على سبيل المثال **المحفظة**. قم بتعيين **الوظيفة الافتراضية** إلى **المحفظة**، ثم حدد **حفظ**.
4. انتقل إلى **Retail والتجارة \> إعداد القناة \> طرق الدفع \> أنواع البطاقات**.
5. حدد **جديد**.
6. حدد **البطاقة**، مثل **PayPal**. قم بتعيين **اسم دفع إلكتروني**، مثل **PayPal**. قم بتعيين **النوع** إلى **المحفظة**، ثم حدد اسم **جهة الإصدار‬**، مثل **PayPal**. حدد **حفظ**.
7. حدد الإدخال الذي تم إنشاؤه مسبقاً وحدد **تعيين المعالج**.
8. في الصفحة **تعيين طريقة دفع المعالج**، حدد نوع بطاقة **PayPal** التي تم إنشاؤها مسبقاً. في العمود الأوسط، حدد **موصل مدفوعات Dynamics 365 لـ PayPal‎** ثم حدد **إضافة**.
 
## <a name="set-up-the-paypal-payment-connector-in-payment-services"></a>إعداد موصل مدفوعات PayPal في خدمات الدفع
اتبع هذه الخطوات لتكوين موصل مدفوعات PayPal في خدمات الدفع.

1. في المركز الرئيسي لـ Commerce، انتقل إلى **الحسابات المدينة \> إعداد المدفوعات \> خدمات الدفع**.
2. في جزء الإجراء، حدد **جديد**، ثم في علامة التبويب **إعداد**، ثم أدخل المعلومات التالية:

    | **الحقل** | **الوصف** | **عينة القيمة** |
    |---|---|---|
    | **خدمة الدفع** | أدخل اسم خدمة الدفع المطلوب تكوينها. | PayPal |
    | **موصل المدفوعات** | حدد موصل مدفوعات PayPal. | موصل مدفوعات Dynamics 365 لـ PayPal |
    | **وضع الاختبار** | بالنسبة إلى موصل PayPal، في بيئات الإنتاج والاختبار، يجب عليك تعيين هذا الحقل على **خطأ‬**. | خطأ‬ |
    | **المعالج الافتراضي للبطاقات المدينة** | يجب تعيين ذلك إلى **لا** لأن مركز الاتصال يستخدم المعالج الافتراضي. | لا |
    | **تجاوز معالج الدفع للمعامَلات الصفرية** | حدد ما إذا كان يجب تخطي معالج الدفع هذا للحركات التي تحتوي على المبلغ 0 (صفر) أم لا. | نعم |

3. في علامة التبويب **حساب خدمة الدفع**، أدخل المعلومات التالية.

    | **الحقل** | **الوصف** | **مطلوب** | **الضبط تلقائياً** | **عينة القيمة** |
    |---|---|:-:|:-:|---|
    | **اسم التجميع** | الاسم الذي تمت تعبئته تلقائياً للتجميع الخاص بموصل مدفوعات Dynamics 365 لـ PayPal. | نعم | نعم | *الاسم الثنائي* |
    | **معرف حساب الخدمة**| المعرف الفريد الذي تمت تعبئته تلقائياً لإعداد خصائص التاجر. يتم ختم هذا المعرف في حركات الدفع ويقوم بتعريف خصائص التاجر التي يجب أن تستخدمها العمليات اللاحقة (مثل الفوترة). | نعم | نعم | *معرف Guid* |
    | **معرف عميل التاجر**| أدخل **معرف عميل** تحديد الصلاحيات الذي تم الحصول عليه من لوحة معلومات مطور PayPal ضمن **التطبيق الافتراضي**.  | نعم | نعم | *السلسلة‬* |
    | **مفتاح API للتاجر** | أدخل **السر** الذي تم الحصول عليه من لوحة معلومات مطور PayPal ضمن **التطبيق الافتراضي**. | نعم | نعم | *السلسلة‬* |
    | **العملات المدعومة** | ادخل العملات المدعومة، مفصولة بفاصلة منقوطة، ليتم دعمها لموصل PayPal. العملة الافتراضية هي **الدولار الأمريكي**. | نعم | نعم، ولكن يمكن تعديلها. | الدولار الأمريكي؛ ‏‫الدولار الكندي‬ |
    | **أنواع طرق الدفع المدعومة** | قد تدعم موصلات الدفع الأخرى أنواع طرق دفع متعددة. بالنسبة لـ PayPal، ستكون طريقة الدفع الوحيدة هي **‏‫PayPal‬**. | نعم | نعم | PayPal |
    | **متغيرات طريقة الدفع المدعومة** | قد تقوم موصلات الدفع الأخرى بإرجاع متغيرات طرق دفع متعددة. بالنسبة لـ PayPal، سيكون المتغير الوحيد هو **‏‫PayPal‬**. | نعم | نعم | PayPal |
    | **البيئة** | يُستخدم هذا الحقل لتحديد ما إذا كان يجب إرسال الحركات إلى ‏‫بيئة الاختبار المعزولة‬ أو البيئات المباشرة. | نعم | نعم | *‏‫بيئة الاختبار المعزولة‬* أو *بيئة مباشرة* |

    > [!NOTE]
    >عند اختبار المدفوعات في ‏‫بيئة الاختبار المعزولة‬، يجب ألا يتم تعيين حقل **البيئة** إلى مباشر والبيئة المباشرة. يجب ألا يتم أبداً استخدام مفتاح **معرف عميل التاجر** ومفتاح **API للتاجر**. ‏‫إن بيئات الاختبار المعزولة‬ مخصصة للاختبار المعزول فقط.


## <a name="set-up-the-paypal-payment-connector-for-the-online-store"></a>إعداد موصل مدفوعات PayPal للمتجر على الإنترنت

1. في المركز الرئيسي لـ Commerce، انتقل إلى **Retail والتجارة \> القنوات \> المتاجر عبر الإنترنت**.
2. حدد المتجر عبر الإنترنت لإضافة موصل مدفوعات Dynamics 365 لـ PayPal.
3. في صفحة **‏‫متجر على الإنترنت‬** وفي علامة التبويب السريعة **حسابات الدفع**، حدد **إضافة**.
4. في **الموصلات**، حدد **موصل مدفوعات Dynamics 365 لـ PayPal‎**.
5. أدخل المعلومات الإضافية التالية.

    | **الحقل** | **الوصف** | **مطلوب** | **الضبط تلقائياً** | **عينة القيمة** |
    |---|---|:-:|:-:|---|
    | **اسم التجميع** | الاسم الذي تمت تعبئته تلقائياً للتجميع الخاص بموصل مدفوعات Dynamics 365 لـ PayPal. | نعم | نعم | *الاسم الثنائي* |
    | **معرف حساب الخدمة** | المعرف الفريد الذي تمت تعبئته تلقائياً لإعداد خصائص التاجر. يتم ختم هذا المعرف في حركات الدفع ويقوم بتعريف خصائص التاجر التي يجب أن تستخدمها العمليات اللاحقة (مثل الفوترة). | نعم | نعم | *معرف Guid* |
    | **معرف عميل التاجر** | أدخل **معرف عميل** تحديد الصلاحيات الذي تم الحصول عليه من لوحة معلومات مطور PayPal ضمن **التطبيق الافتراضي**.  | نعم | نعم | *السلسلة‬* |
    | **مفتاح API للتاجر** | أدخل **السر** الذي تم الحصول عليه من لوحة معلومات مطور PayPal ضمن **التطبيق الافتراضي**. | نعم | نعم | *السلسلة‬* |
    | **العملات المدعومة** | ادخل العملات المدعومة، مفصولة بفاصلة منقوطة، ليتم دعمها لموصل PayPal. العملة الافتراضية هي **الدولار الأمريكي**. | نعم | نعم، ولكن يمكن تعديلها. | الدولار الأمريكي؛ ‏‫الدولار الكندي‬ |
    | **أنواع طرق الدفع المدعومة** | قد تدعم موصلات الدفع الأخرى أنواع طرق دفع متعددة. بالنسبة لـ PayPal، ستكون طريقة الدفع الوحيدة هي **‏‫PayPal‬**. | نعم | نعم | PayPal |
    | **متغيرات طريقة الدفع المدعومة** | قد تقوم موصلات الدفع الأخرى بإرجاع متغيرات طرق دفع متعددة. بالنسبة لـ PayPal، سيكون المتغير الوحيد هو **‏‫PayPal‬**. | نعم | نعم | PayPal |
    | **البيئة** | يُستخدم هذا الحقل لتحديد ما إذا كان يجب إرسال الحركات إلى ‏‫بيئة الاختبار المعزولة‬ أو البيئات المباشرة. | نعم | نعم | *‏‫بيئة الاختبار المعزولة‬* أو *بيئة مباشرة* |
    
    > [!NOTE]
    > عند اختبار المدفوعات في ‏‫بيئة الاختبار المعزولة‬، يجب ألا يتم تعيين حقل **البيئة** إلى مباشر والبيئة المباشرة. يجب ألا يتم أبداً استخدام مفتاح **معرف عميل التاجر** ومفتاح **API للتاجر**. ‏‫إن بيئات الاختبار المعزولة‬ مخصصة للاختبار المعزول فقط.


بعد إجراء التغييرات الواردة أعلاه في المركز الرئيسي لـ Commerce، قم بمزامنة التغييرات باستخدام جدول التوزيع 1070.
## <a name="configure-paypal-for-the-storefront-checkout-module"></a>تكوين PayPal لوحدة الخروج على واجهة المتجر‬

للحصول على تفاصيل تتعلق بتكوين واجهة المتجر لاستخدام PayPal في وحدة الدفع، راجع [وحدة الدفع](https://docs.microsoft.com/dynamics365/commerce/payment-module/?azure-portal=true).

## <a name="enter-a-merchant-relationship-with-paypal"></a>الدخول في علاقة تاجر مع PayPal

لإنشاء حساب تاجر مباشر مع PayPal، قم بزيارة [صفحة PayPal Checkout ](https://www.paypal.com/merchantapps/appcenter/acceptpayments/checkout/?azure-portal=true) للخدمة الذاتية أو [تواصل مع مندوب مبيعات ](https://www.paypal.com/business/contact-sales/?azure-portal=true) لمناقشة الأسعار المخصصة.


