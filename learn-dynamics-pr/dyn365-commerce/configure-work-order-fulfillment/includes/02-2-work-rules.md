---
ms.openlocfilehash: ec425387a4e37344735a3c546b2d2dc2fa7fa486
ms.sourcegitcommit: 82ed9ded42c47064c90ab6fe717893447cd48796
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 10/19/2020
ms.locfileid: "6070407"
---
<span data-ttu-id="d2ea7-101">تسمح وظيفة DOM بأن يتم تحديد أنواع مختلفة من القواعد.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-101">The DOM functionality allows for different types of rules to be specified.</span></span> <span data-ttu-id="d2ea7-102">يمكن للمؤسسات تحديد قواعد متعددة، وفقاً لاحتياجات الأعمال الخاصة بهم.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-102">Organizations can define multiple rules, depending on their business needs.</span></span> <span data-ttu-id="d2ea7-103">يمكن تحديد القواعد لمجموعة من المواقع أو لمواقع فردية، ولفئة منتج معينة أو منتج أو متغير معين.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-103">The rules can be defined for a group of locations or individual locations and for a specific product category, product, or variant.</span></span> 

<span data-ttu-id="d2ea7-104">توفر الأقسام التالية نظرة عامة على أنواع القواعد المعتمدة في التجارة.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-104">The following sections provide an overview of the types of rules that are supported in Commerce.</span></span>

## <a name="minimum-inventory-rule"></a><span data-ttu-id="d2ea7-105">قاعدة أدنى مخزون</span><span class="sxs-lookup"><span data-stu-id="d2ea7-105">Minimum inventory rule</span></span> 
<span data-ttu-id="d2ea7-106">تحدد قاعدة المخزون الأدنى الحد الأدنى لمخزون فئة معينة من المنتجات أو لمنتجات فردية في كافة المواقع المختلفة أو مجموعة من المواقع.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-106">The Minimum inventory rule defines the minimum inventory for a certain category of products or for individual products in all different locations or a group of locations.</span></span> 

<span data-ttu-id="d2ea7-107">لتوضيح هذا المفهوم بمثال، يعرض السيناريو التالي المتجر التقليدي المادي، حيث يكون لديك عملاء عابرين، لكنك ترغب أيضاً في استخدام المتجر كمركز تنفيذي من أجل تنفيذ الأوامر.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-107">To illustrate this concept with an example, the following scenario shows a brick-and-mortar store, where you have walk-in customers, but you also want to use the store as a fulfillment center to fulfill orders.</span></span> <span data-ttu-id="d2ea7-108">عند اطلاع DOM على هذا الموقع (متجر البيع بالتجزئة لديك)، فإنه يعثر على مستوى معين من المخزون.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-108">When DOM is looking at that location (your retail store), it finds a certain level of inventory.</span></span> <span data-ttu-id="d2ea7-109">وبالتالي، ستحتاج إلى النظر فيما إذا كنت ترغب في توفير كل المخزونات لأغراض DOM أم لا.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-109">Consequently, you need to consider whether you want all the inventory to be available for DOM purposes.</span></span> 

<span data-ttu-id="d2ea7-110">وعلى نحو عادي، لا يكون هذا السيناريو هو الحالة، لأنك سترغب في الاحتفاظ ببعض احتياطيات المخزون في المتجر، بحيث يكون لديك مخزون كافٍ يتم بيعه مباشرةً إلى العملاء العابرين.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-110">Typically, this scenario is not the case, because you want to retain some inventory reserves in the store so that you have enough stock to sell directly to walk-in customers.</span></span> <span data-ttu-id="d2ea7-111">وفي هذا الإطار، وباستخدام الحد الأدنى من قاعدة المخزون، يمكنك تحديد مجموعة قواعد ستساعدك على الاحتفاظ بمخزون للعملاء العابرين، بينما يتم ضمان أن كل شيء تتم مراعاته من خلال DOM لأغراض التنفيذ.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-111">In this sense, by using the Minimum inventory rule, you can define a set of rules that help you reserve inventory for your walk-in customers, while ensuring that everything else is considered by DOM for the purposes of fulfillment.</span></span>

## <a name="fulfillment-location-priority-rule"></a><span data-ttu-id="d2ea7-112">قاعدة أولوية موقع التنفيذ</span><span class="sxs-lookup"><span data-stu-id="d2ea7-112">Fulfillment location priority rule</span></span>
<span data-ttu-id="d2ea7-113">من خلال قاعدة أولوية موقع التنفيذ، إذا كان كل شيء على قدم المساواة، سيقوم DOM بانتقاء الموقع المثالي لإجراء التنفيذ، سواءً كان الأمر يتعلق بالمسافة أو يتعلق بالتكلفة.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-113">With the Fulfillment location priority rule, if all else is equal, DOM would pick a location that is most optimal for fulfillment, either in terms of distance or in terms of cost.</span></span> <span data-ttu-id="d2ea7-114">ولكن، قد تحدث بعض السيناريوهات عند عدم رغبتك في استخدام هذه الطريقة.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-114">However, certain scenarios do occur when you might not want to use that approach.</span></span> <span data-ttu-id="d2ea7-115">قد ترغب في أن يتبع DOM طريقه هرمية يتم إعدادها مسبقاً لتحديد أحد المواقع أو استخراجه.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-115">You might want DOM to follow a preset hierarchical way of defining or deriving a location.</span></span> 

<span data-ttu-id="d2ea7-116">على سبيل المثال، في نهاية الموسم عادةً، قد تتواجد لديك بضائع من متاجر البيع بالتجزئة ستعود مجدداً إلى أحد المتاجر التجارية.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-116">For example, typically at the end of season, you might have merchandise from the retail stores going back into an outlet store.</span></span> <span data-ttu-id="d2ea7-117">لذلك، في حالة ورود أمر لأحد المنتجات، وتريد أن تقوم بترتيب أولويات المتاجر لديك ليتم استخدامها كموقع تنفيذ أولاً وقبل أن يقوم DOM باختيار المتجر التجاري.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-117">Thus, when an order for a product comes in, you want to prioritize your stores to be used as a fulfillment location first before DOM picks the outlet store.</span></span> <span data-ttu-id="d2ea7-118">وبهذه الطريقة، في حالة كانت الكمية المتبقية من المخزون موجودة في قناة المتجر، سترغب في أن يقوم DOM بانتقاء ذلك المتجر كخيار أول للتنفيذ.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-118">In this way, if remainders of that inventory exist in the store channel, you want DOM to pick that store as a first option for fulfillment.</span></span> 

<span data-ttu-id="d2ea7-119">لذلك، إذا كنت ترغب في تحديد تدرج هرمي للمواقع فيما يتعلق بكيفية استخراج DOM للمواقع لإجراء التنفيذ، يمكنك استخدام قاعدة أولوية موقع التنفيذ لإنجاز تلك المهمة.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-119">Therefore, if you want to define a hierarchy of locations in terms of how DOM should derive locations for fulfillment, you can use the fulfillment location priority rule to accomplish that task.</span></span> <span data-ttu-id="d2ea7-120">يمكنك تحديد تلك القاعدة لإحدى فئات المنتجات أو النزول إلى مستوى المنتجات المحددة.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-120">You can define that rule for a category of products or down to the level of specific products.</span></span> 

## <a name="partial-order-rule"></a><span data-ttu-id="d2ea7-121">قاعدة الأمر الجزئي</span><span class="sxs-lookup"><span data-stu-id="d2ea7-121">Partial order rule</span></span> 
<span data-ttu-id="d2ea7-122">باستخدام قاعدة الأمر الجزئي، يمكنك تكوين معلمات محددة مثل السماح بالتنفيذ الجزئي للأوامر أو بنود الأوامر.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-122">With the Partial order rule, you can configure certain parameters such as allowing a partial fulfillment of orders or order lines.</span></span> <span data-ttu-id="d2ea7-123">وبالتالي، وبناءً على التكوين الدقيق، قد يقوم DOM إما بتنفيذ الأمر بالكامل أو قد يتم تنفيذ أمر جزئي وبنود جزئية في حالة عدم التمكن من تنفيذ الأمر المكتمل من موقع واحد.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-123">Therefore, based on the exact configuration, DOM might either fulfill the entire order or it might fulfill a partial order and partial lines when it cannot fulfill the complete order from a single location.</span></span> 

## <a name="offline-fulfillment-location-rule"></a><span data-ttu-id="d2ea7-124">قاعدة موقع التنفيذ دون اتصال</span><span class="sxs-lookup"><span data-stu-id="d2ea7-124">Offline fulfillment location rule</span></span> 
<span data-ttu-id="d2ea7-125">النظر في استخدام قاعدة موقع التنفيذ غير المتصل دون اتصال والتي تذكر أن بعض المواقع قد تكون غير متاحة للتنفيذ في كل وقت محدد في العام.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-125">The consideration with the Offline fulfillment location rule is that not every location is available for fulfillment at every given time of the year.</span></span> <span data-ttu-id="d2ea7-126">وعادةً، وأثناء موسم العطلات، تكون متاجرك مشغولة جداً بدرجة لا تمكّنها من تنفيذ الأوامر وتوفير خدمة ذات جودة للعملاء العابرين لديك في الوقت ذاته.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-126">Typically, during the holiday season, your stores are so busy that they can’t fulfill orders and provide quality service to your walk-in customers at the same time.</span></span> <span data-ttu-id="d2ea7-127">وبالتالي، قد يتعين عليك جعل بعض المواقع خارج اتصال الشبكة لفترة محددة بحيث لا يعتبر DOM أن هذه المواقع ضمن المراكز التنفيذية.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-127">Consequently, you might need to take certain locations offline from the network for a specific duration so that DOM does not consider those locations as fulfillment centers.</span></span> <span data-ttu-id="d2ea7-128">بإمكانك إنجاز هذه المهمة حسب التاريخ ولمجموعة من المواقع.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-128">You can accomplish this task by a date and for a group of locations.</span></span> 

## <a name="maximum-rejects-rule"></a><span data-ttu-id="d2ea7-129">قاعدة الحد الأقصى للرفض</span><span class="sxs-lookup"><span data-stu-id="d2ea7-129">Maximum rejects rule</span></span> 
<span data-ttu-id="d2ea7-130">في سيناريو الحالة المثالية، يتم تلقي أحد الأوامر، ويقوم DOM بانتقائه، كما ينصح بأحد المواقع، ويقوم بتخصيص الطلب إلى هذا الموقع المحدد، ومن ثم يقوم الموقع بتنفيذ هذا الأمر.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-130">In an ideal case scenario, an order comes in, DOM picks it up, it recommends a location, assigns the order to that specific location, and the location fulfills the order.</span></span> <span data-ttu-id="d2ea7-131">تستند هذه العملية إلى البيانات الواردة في النظام وتعمل عليها، مثل المعلومات المتعلقة بتوافر المخزون.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-131">This process is based and run on data in the system, like inventory availability information.</span></span> <span data-ttu-id="d2ea7-132">ولكن، قد لا تكون مستويات النظام المتعلقة بالمخزون والمخزون الفعلي متزامنة بشكل دائم. لذلك، يعمل النظام على التأكيد على أن الموقع المحدد له مخزون، ويقوم DOM بتخصيص أحد الأوامر إلى هذا الموقع، من المحتمل ألا يكون هناك أي مخزون فعلى متوفر في هذا الموقع.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-132">However, system levels of inventory and physical inventory might not always be in sync. Though the system confirms that a specific location has inventory and DOM assigns an order to that location, it is possible that no inventory is physically available in that location.</span></span> 

<span data-ttu-id="d2ea7-133">بالنسبة لمثل هذه السيناريوهات، يتم إنشاء إمكانية في عميل نقطه البيع (POS) في Commerce Headquarters (‏HQ) حيث يمكن للمستخدم رفض تنفيذ أحد الأوامر التي تم تخصيصها بواسطة DOM.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-133">For such scenarios, a capability has been built in the point of sale (POS) client in Commerce Headquarters (HQ) where a user can reject an order for fulfillment that had been assigned by DOM.</span></span> <span data-ttu-id="d2ea7-134">وعند رفض الأمر، فسيعود إلى المجموعة، ثم يقوم DOM باختياره مجدداً في عملية التشغيل التالية وتعيينه إلى أحد المواقع المختلفة.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-134">When the order is rejected, it returns to the pool, and then DOM will pick it up again in the next run and assign it to a different location.</span></span> <span data-ttu-id="d2ea7-135">سيعلم محرك DOM أن هذا الموقع قد رفض الأمر بالفعل، لذلك لن يقوم ببتعين الأمر مجددً إلى هذا الموقع، لكن سيبحث عن موقع آخر بدلاً منه.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-135">The DOM engine knows that this location has rejected the order already, so it will not assign it to the same location again but will look for a different one instead.</span></span> <span data-ttu-id="d2ea7-136">ولكن، إذا استمر رفض المواقع التالية المختارة لهذا الأمر، فسيتم إجراء هذا العملية بشكل متكرر، وسيحتاج النظام إلى أحد الخيارات من أجل الخروج من هذه الحلقة.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-136">However, if the next chosen locations continue to reject the order, this process will run repeatedly, and the system needs an option to come out of such a loop.</span></span> 

<span data-ttu-id="d2ea7-137">سيساعدك الحد الأقصى لقاعدة الرفض على تحديد سيناريو المهلة أو الحد الخاص بذلك، وفي حالة رفض أحد الأوامر أو بند من بنود الأوامر عدد محدد من المرات، سيتعين على DOM وضعه في قائمة انتظار استثنائية.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-137">The Maximum rejects rule helps you define a timeout scenario or threshold so that, if an order or an order line is rejected a certain number of times, DOM must place it into an exception queue.</span></span> <span data-ttu-id="d2ea7-138">ويمكن لعملية الإقران بعد ذلك مراجعة العملية على نحو يدوي وتقرير الطريقة الأفضل للتعامل مع الأمر.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-138">An associate can then review it manually and decide the best way to handle that order.</span></span> <span data-ttu-id="d2ea7-139">توفر مساحة عمل **الاستعلام عن أوامر المبيعات ومعالجتها** واجهة بسيطة بحيث يمكن للمستخدمين العثور على لوحة للأوامر المرفوضة ونظرة عامة على جميع أوامر المبيعات وخطوط الإنتاج المؤجلة وخطوط الإنتاج التي تم شحنها جزئيا والمزيد.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-139">The **Sales order processing and inquiry** workspace provides a simple interface where users can find a tile for rejected orders and an overview of all sales orders, delayed lines, partially shipped lines, and more.</span></span>

## <a name="maximum-distance-rule"></a><span data-ttu-id="d2ea7-140">قاعدة الحد الأقصى للمسافة</span><span class="sxs-lookup"><span data-stu-id="d2ea7-140">Maximum distance rule</span></span> 
<span data-ttu-id="d2ea7-141">لا يتم إعداد كل موقع بنفس الطريقة المتبعة فيما يتعلق بالحجم والبنية الأساسية المطلوبين لتنفيذ الأوامر.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-141">Not every location is set up the same way in terms of size and infrastructure to fulfill orders.</span></span> <span data-ttu-id="d2ea7-142">على سبيل المثال، قد يكون لديك متجر صغير وبه شاحنة واحدة صغيرة فقط للتجول في الأرجاء وتنفيذ الأوامر.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-142">For example, you might have a small store that has only one small truck to drive around and fulfill orders.</span></span> <span data-ttu-id="d2ea7-143">وعلى العكس من ذلك، قد يكون لديك متجر كبير يحتوي على شاحنات أكبر للتجول وتنفيذ الأوامر.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-143">Conversely, you might have a big store that can have bigger trucks to go out and fulfill orders.</span></span> <span data-ttu-id="d2ea7-144">وبشكل طبيعي، يمتلك مركز التوزيع إمكانية تنفيذ كميات مختلفة من الأوامر.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-144">Normally, your distribution center has the capability to fulfill different volumes of orders.</span></span> <span data-ttu-id="d2ea7-145">ولذلك، يكون من المفيد أن يتم في النظام تحديد مدى إمكانية انتقال بعض المواقع الفردية أو مجموعة المواقع من أجل تنفيذ المواقع.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-145">Therefore, it is useful to define in the system how far certain individual locations or group of locations can go out to fulfill orders.</span></span> 

<span data-ttu-id="d2ea7-146">على سبيل المثال، لاستيفاء أحد الأوامر، يمكن للمتاجر الصغيرة الانتقال لمسافة 10 أميال فقط، أما المتاجر الأكبر فيمكنها الانتقال لمسافة 50 ميلاً، وبالنسبة لمراكز التوزيع فهي غير محدودة.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-146">For example, to fulfill an order, the small stores can only go 10 miles, the bigger stores can go 50 miles, and the distribution centers have no limit.</span></span> <span data-ttu-id="d2ea7-147">في مثل هذه السيناريوهات، يمكنك استخدام قاعدة الحد الأقصى للمسافة لتحديد هذه الاختلافات.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-147">In such scenarios, you can use the Maximum distance rule to define those differences.</span></span> 

## <a name="maximum-order-rule"></a><span data-ttu-id="d2ea7-148">قاعدة الحد الأقصى للأوامر</span><span class="sxs-lookup"><span data-stu-id="d2ea7-148">Maximum order rule</span></span> 
<span data-ttu-id="d2ea7-149">وباستخدام القياس ذاته بأن ليس كل موقع يتم إعداده بالطريقة ذاتها، فمع الافتراض أن لديك متجراً صغيراً يمكنه تنفيذ خمسة أوامر في اليوم، فالمتجر الكبير يمكنه تنفيذ عشرين أمراً في اليوم ومراكز التوزيع ليست محدودة.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-149">Using the same analogy where not every location is set up the same way, assume that you have a small store that can fulfill five orders in a day, a bigger store to fulfill twenty orders in a day, and the distribution centers have no limit.</span></span> <span data-ttu-id="d2ea7-150">باستخدام قاعدة الحد الأقصى للأمر، يمكنك تحديد القدرة الإنتاجية لكل موقع أو مجموعة من المواقع من أجل تنفيذ الأوامر.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-150">With the Maximum order rule, you can define the capacity at each location or group of locations to fulfill orders.</span></span> <span data-ttu-id="d2ea7-151">عند بلوغ الحد المعين للقدرة الإنتاجية ليوم العمل المحدد هذا، فلن يقوم DOM بعدها بتعيين أوامر لهذا الموقع في يوم العمل المحدد هذا.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-151">When the capacity has been reached for that given business day, DOM will no longer assign orders to that location for that specific business day.</span></span> <span data-ttu-id="d2ea7-152">وفي يوم العمل التالي، سيبدأ في تعيين الأوامر إلى هذا الموقع مجدداً حتى يصل إلى الحد الأقصى للقدرة الإنتاجية.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-152">The next business day, it will begin to assign orders to that location again until it reaches the maximum capacity.</span></span> 

<span data-ttu-id="d2ea7-153">يمكن أن يحتوي كل نوع من هذه القواعد على عدة قواعد موضحة لها.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-153">Each of these types of rules can have multiple rules defined for them.</span></span> <span data-ttu-id="d2ea7-154">يمكنك انتقاء القواعد وتعيينها إلى ملف تعريف التنفيذ، والذي سيحدد بدقة الحسابات والاعتبارات المتعلقة بمنطق DOM.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-154">You can pick rules and assign them to your fulfillment profile, which will determine the exact calculations and considerations of your DOM logic.</span></span> 

<span data-ttu-id="d2ea7-155">في كل مره تقوم فيها بتحديد قاعدة، يمكنك تحديد ما إذا كانت القاعدة عبارة عن قاعدة قيد ثابت أو قاعدة يمكن ان يتم تخفيفها إلى سيناريو محدد.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-155">Every time you define a rule, you can specify whether the rule is a hard constraint rule or is a rule that can be relaxed in a specific scenario.</span></span> <span data-ttu-id="d2ea7-156">على سبيل المثال، إذا قمت بتكوين عشرة قواعد في النظام، وكان ست منها قواعد صارمة مقيدة، ولديك مجموعة من 100 أمر ترد إلى النظام.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-156">For example, you have configured ten rules in the system, of which six are hard constrained rules, and you have a batch of 100 orders coming into the system.</span></span> <span data-ttu-id="d2ea7-157">في حالة التكرار الأول في DOM، سيحاول تطبيق القواعد العشرة أثناء البحث عن موقع لهذه الأوامر المئة.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-157">In the first iteration of DOM, it will try to apply the 10 rules while looking for a location for those 100 orders.</span></span> <span data-ttu-id="d2ea7-158">نظراً لأنه لديك 10 قواعد، سيتم تعيين 60 أمراً فقط للموقع.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-158">Because you have 10 rules, only 60 orders were assigned to a location.</span></span> <span data-ttu-id="d2ea7-159">وبالنسبة لعدد 40 أمراً المتبقيين، وكانت القواعد مقيدة أو كان المخزون غير متاح، فلن يتمكن DOM من تعيين عدد 40 أمراً المتبقيين إلى أحد المواقع.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-159">For the remaining 40 orders, the rules were constrained, or the inventory was not available, so DOM couldn’t assign the remaining 40 orders to a location.</span></span> 

<span data-ttu-id="d2ea7-160">وبمجرد انتهاء لحظة التكرار الأول في DOM، سيعود النظام إلى تكرار ثانٍ ضمن عملية التنفيذ التالية التي يتم إجراؤها وسيتحقق من عدد القواعد التي لا تحتوي على تقييدات صارمة داخل القواعد 10، مما يعني أنه يمكن تخفيفها.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-160">The moment that the first iteration of DOM is over, the system returns to a second iteration within the same implementation run and checks how many of the 10 rules are not hard constraints, which means that they can be relaxed.</span></span> <span data-ttu-id="d2ea7-161">إذا تبين وجود 4 قواعد يمكن تخفيفها، أي أنها يمكن أن يتم تركها جانباً للنظر فيها، وسيحاول DOM استخدام القواعد الست المتبقية مقابل عدد 40 أمراً هذا.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-161">It finds that four rules can be relaxed, meaning that they can be left aside for consideration and DOM will try to apply the remaining six rules against those 40 orders.</span></span> <span data-ttu-id="d2ea7-162">تم تخفيف القيود بفاعلية ومن المحتمل أن يكون هناك أكثر من 60 أمراً يمكن تنفيذها.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-162">The constraints have effectively been reduced and possibly more orders than 60 might be fulfilled.</span></span> <span data-ttu-id="d2ea7-163">بالنسبة لكل قاعدة تقوم بتحديدها، يمكنك تحديد ما ذا كانت قاعدة ذات قيود صارمة أو ذات قيود خفيفة.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-163">For every rule that you define, you can specify whether it is a hard constraint rule or a soft constraint rule.</span></span>

## <a name="configure-dom-rules"></a><span data-ttu-id="d2ea7-164">تكوين قوعد DOM</span><span class="sxs-lookup"><span data-stu-id="d2ea7-164">Configure DOM rules</span></span>

<span data-ttu-id="d2ea7-165">يوضح الإجراء التالي كيفية تكوين قواعد DOM.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-165">The following procedure explains how to configure DOM rules.</span></span>

1.  <span data-ttu-id="d2ea7-166">انتقل إلى **البيع بالتجزئة والتجارة > إدارة الأوامر الموزعة > إعداد > إدارة القواعد**.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-166">Go to **Retail and Commerce > Distributed order management > Setup > Manage rules**.</span></span>
2.  <span data-ttu-id="d2ea7-167">حدد **جديد** للبدء في إنشاء قاعدة DOM جديدة.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-167">Select **New** to begin creating a new DOM rule.</span></span>
3.  <span data-ttu-id="d2ea7-168">في صفحة **تحديد نوع سجل لإنشائه** التي يتم فتحها، حدد نوع القاعدة التي تريد إنشائها في حقل **قواعد DOM**.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-168">In the **Select a record type to create** page that opens, select the type of rule that you want to create in the **DOM rules** field.</span></span>
4.  <span data-ttu-id="d2ea7-169">أدخل اسماً ووصفاً للقاعدة في حقلي **الاسم** و **الوصف**.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-169">Enter a name and description for the rule in the **Name** and **Description** fields.</span></span>
5.  <span data-ttu-id="d2ea7-170">اضبط مربع الاختيار **قيود صارمة** لتحديد ما إذا كان يتعين دائماً مراعاة هذه القاعدة.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-170">Set the **Hard constraint** check box to define if the rule must always be taken into consideration.</span></span> <span data-ttu-id="d2ea7-171">يتم ضبط هذا الخيار افتراضياً على **نعم** للأنواع **الأوامر الجزئية** و **موقع التنفيذ غير المتصل** و **قاعدة الحد الأقصى للمسافة المسموح بها**.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-171">This option is set to **Yes** by default for the **Partial orders**, **Offline fulfillment location**, and **Maximum allowed distance rule** types.</span></span>  
6.  <span data-ttu-id="d2ea7-172">اسم الهيئة القانونية الحالية التي تعمل بها سيتم إدخاله افتراضياً في حقل **الشركة**.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-172">The current legal entity that you work in will be filled in by default in the **Company** field.</span></span>
7.  <span data-ttu-id="d2ea7-173">في القسم **فترة التحقق**، حدد التواريخ الموجودة في حقلي **تاريخ البدء** و **تاريخ الانتهاء**.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-173">In the **Validation period** section, select dates in the **Start date** and **End date** fields.</span></span> 
8.  <span data-ttu-id="d2ea7-174">حدد **حفظ**.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-174">Select **Save**.</span></span>
9.  <span data-ttu-id="d2ea7-175">في علامة التبويب **البنود**، حدد **إضافة** ثم قم بملء المعلومات التالية القائمة على نوع القاعدة المحددة:</span><span class="sxs-lookup"><span data-stu-id="d2ea7-175">On the **Lines** tab, select **Add** and then fill in the following information based on the selected rule type:</span></span>
    -   <span data-ttu-id="d2ea7-176">**الحد الأقصى للأوامر**</span><span class="sxs-lookup"><span data-stu-id="d2ea7-176">**Maximum orders**</span></span>
        -   <span data-ttu-id="d2ea7-177">حدد مجموعة التنفيذ في حقل القائمة المنسدلة **مجموعة التنفيذ** أو حدد مستودع في حقل القائمة المنسدلة **موقع التنفيذ**.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-177">Select a fulfillment group in the **Fulfillment group** drop-down field or a warehouse in the **Fulfillment location** drop-down field.</span></span>
        - <span data-ttu-id="d2ea7-178">أدخل قيمة في حقل **الحد الأقصى للأوامر** المطلوب.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-178">Enter a value in the mandatory **Maximum orders** field.</span></span>
    - <span data-ttu-id="d2ea7-179">**الحد الأقصى لعمليات الرفض** – أدخل رقماً في هذا الحقل.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-179">**Maximum rejects** – Enter a number in this field.</span></span> 
    - <span data-ttu-id="d2ea7-180">**الأوامر الجزئية**</span><span class="sxs-lookup"><span data-stu-id="d2ea7-180">**Partial orders**</span></span>
        - <span data-ttu-id="d2ea7-181">حدد رقماً من 1 إلى 5 أو حدد **أي رقم** في الحقل **الحد الأقصى لمواقع التنفيذ**.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-181">Select a number from 1-5 or select **Any number** in the **Maximum fulfilling locations** field.</span></span>
        - <span data-ttu-id="d2ea7-182">تكوين مربع التحديد **تنفيذ الأوامر الجزئية؟**.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-182">Configure the **Fulfill partial orders?** check box.</span></span>
        - <span data-ttu-id="d2ea7-183">تكوين مربع التحديد **تنفيذ التشكيلات الجزئية**.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-183">Configure the **Fulfill partial lines?** check box.</span></span>
    - <span data-ttu-id="d2ea7-184">**موقع التنفيذ غير المتصل** - حدد مجموعة تنفيذ في الحقل **مجموعة التنفيذ** أو مستودع في الحقل **موقع التنفيذ**، الذي سترغب في تعيينه كغير متصل في DOM.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-184">**Offline fulfillment location** – Select a fulfillment group in the **Fulfillment group** field or a warehouse in the **Fulfillment location** field, which you’ll want to assign as offline for DOM.</span></span>
    - <span data-ttu-id="d2ea7-185">**الحد الأقصى للمسافة المسموح بها**</span><span class="sxs-lookup"><span data-stu-id="d2ea7-185">**Maximum allowed distance**</span></span> 
        - <span data-ttu-id="d2ea7-186">حدد مجموعة التنفيذ في حقل القائمة المنسدلة **مجموعة التنفيذ** أو حدد مستودع في حقل القائمة المنسدلة **موقع التنفيذ**.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-186">Select a fulfillment group in the **Fulfillment group** drop-down field or a warehouse in the **Fulfillment location** drop-down field.</span></span>
        - <span data-ttu-id="d2ea7-187">قم بتكوين مربع التحديد **تمكين الحدود الفاصلة للبلد/المنطقة**.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-187">Configure the **Enable country/region boundary limits** check box.</span></span>
        - <span data-ttu-id="d2ea7-188">أدخل قيمة رقمية في الحقل **الحد الأقصى للمسافة المسموح بها**.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-188">Enter a numerical value in the **Maximum allowed distance** field.</span></span> 
        - <span data-ttu-id="d2ea7-189">حدد **ميل** أو **كم** في الحقل **وحدة القياس**.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-189">Select **mi** or **km** in the **Unit** field.</span></span>
    - <span data-ttu-id="d2ea7-190">**الحد الأدنى للمخزون**</span><span class="sxs-lookup"><span data-stu-id="d2ea7-190">**Minimum inventory**</span></span>
        - <span data-ttu-id="d2ea7-191">حدد مجموعة التنفيذ في حقل القائمة المنسدلة **مجموعة التنفيذ** أو حدد مستودع في حقل القائمة المنسدلة **موقع التنفيذ**.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-191">Select a fulfillment group in the **Fulfillment group** drop-down field or a warehouse in the **Fulfillment location** drop-down field.</span></span>
        - <span data-ttu-id="d2ea7-192">حدد فئة البيع بالتجزئة في حقل القائمة المنسدلة **الفئة** المطلوب و/أو اختر **منتج** و **متغير المنتج** في الحقول الخاصة.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-192">Select a retail category in the mandatory **Category** drop-down field and/or choose a **Product** and **Product variant** in the respective fields.</span></span>
        - <span data-ttu-id="d2ea7-193">أدخل قيمة رقمية في الحقل **الحد الأدنى للمخزون**.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-193">Enter a numerical value in the **Minimum inventory** field.</span></span>
    - <span data-ttu-id="d2ea7-194">**أولوية موقع التنفيذ**</span><span class="sxs-lookup"><span data-stu-id="d2ea7-194">**Fulfillment location priority**</span></span>
        - <span data-ttu-id="d2ea7-195">حدد مجموعة التنفيذ في حقل القائمة المنسدلة **مجموعة التنفيذ** أو حدد مستودع في حقل القائمة المنسدلة **موقع التنفيذ**.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-195">Select a fulfillment group in the **Fulfillment group** drop-down field or a warehouse in the **Fulfillment location** drop-down field.</span></span>
        - <span data-ttu-id="d2ea7-196">حدد فئة البيع بالتجزئة في حقل القائمة المنسدلة **الفئة** المطلوب و/أو اختر **منتج** و **متغير المنتج** في الحقول الخاصة.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-196">Select a retail category in the mandatory **Category** drop-down field and/or choose a **Product** and **Product variant** in the respective fields.</span></span>
        - <span data-ttu-id="d2ea7-197">أدخل قيمة رقمية في حقل **الأولوية**.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-197">Enter a numerical value in the **Priority** field.</span></span>
10. <span data-ttu-id="d2ea7-198">حدد **حفظ**.</span><span class="sxs-lookup"><span data-stu-id="d2ea7-198">Select **Save**.</span></span> 

