---
ms.openlocfilehash: 03f3d54eea7267d383bc396c9842534c2b9668d4
ms.sourcegitcommit: 82ed9ded42c47064c90ab6fe717893447cd48796
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 10/19/2020
ms.locfileid: "6070392"
---
<span data-ttu-id="ebade-101">يمكن بدء عملية نقل البيانات يدوياً أو عن طريق جدولة وظيفة دفعية من خلال جدول التوزيع في المقر الرئيسي.</span><span class="sxs-lookup"><span data-stu-id="ebade-101">The process of transferring data can be triggered manually or by scheduling a batch job through the distribution schedule in HQ.</span></span> <span data-ttu-id="ebade-102">يمكن أن يحتوي جدول التوزيع هذا على مجموعة بيانات قناة واحدة أو أكثر ووظيفة جدولة واحدة أو أكثر.</span><span class="sxs-lookup"><span data-stu-id="ebade-102">This distribution schedule can contain one or more channel data groups and one or more scheduler jobs.</span></span> <span data-ttu-id="ebade-103">عند توزيع حل التجارة، يتم إنشاء قاعدة بيانات افتراضية بشكل منهجي، ونوصي بتجنب إنشاء قاعدة بيانات ثانية أو إعادة تسمية القاعدة الافتراضية.</span><span class="sxs-lookup"><span data-stu-id="ebade-103">When the Commerce solution is deployed, a default database is systematically created, and we recommend that you avoid creating a second database or renaming the default one.</span></span> 

<span data-ttu-id="ebade-104">تعمل جداول التوزيع في وضع غير متزامن عندما تقوم بتنسيق الاتصال وتسليم البيانات بين التجارة والمخازن.</span><span class="sxs-lookup"><span data-stu-id="ebade-104">Distribution schedules act in an asynchronous mode when you are coordinating the communication and data delivery between Commerce and the stores.</span></span> <span data-ttu-id="ebade-105">المجدول مرتبط بوظائف المجدول ومجموعات قواعد بيانات القنوات.</span><span class="sxs-lookup"><span data-stu-id="ebade-105">The scheduler is linked with scheduler jobs and channel database groups.</span></span> <span data-ttu-id="ebade-106">باستخدام وظائف المجدول، يمكنك إعداد اتجاه تدفق البيانات، إما لتنزيل البيانات أو تحميلها.</span><span class="sxs-lookup"><span data-stu-id="ebade-106">With scheduler jobs, you can set up the direction of the data flow, for either downloading or uploading the data.</span></span> <span data-ttu-id="ebade-107">يعني إنشاء وظيفة دفعية كوظيفة مجدولة إعداد وظيفة سيتم تشغيلها في وقت محدد وتسمح بمعالجة الدُفعات المجدولة للبيانات.</span><span class="sxs-lookup"><span data-stu-id="ebade-107">Creating a batch job as a scheduled job means to set up a job that will be run at a specific time and that allows for scheduled batch processing of data.</span></span> <span data-ttu-id="ebade-108">تتمثل ميزة استخدام وظيفة دفعية كوظيفة مجدولة في حقيقة أن لديك محفوظات تشغيل تسجل معلومات حول وقت تشغيل الوظيفة الدُفعية وما إذا كانت قد انتهت بنجاح أو مع وجود خطأ.</span><span class="sxs-lookup"><span data-stu-id="ebade-108">The advantage of using a batch job as a scheduler job is the fact that you have a run history that logs information about when the batch job has been run and whether it finished successfully or with an error.</span></span> <span data-ttu-id="ebade-109">إذا انتهى الأمر بخطأ، فسيكون سجل الوظائف الدُفعية متاحاً.</span><span class="sxs-lookup"><span data-stu-id="ebade-109">If it ends in an error, a batch job log is available.</span></span> 

<span data-ttu-id="ebade-110">تتكون وظائف المجدول من وظائف فرعية تحدد الجداول وحقول الجدول التي تحتوي على البيانات المراد توزيعها.</span><span class="sxs-lookup"><span data-stu-id="ebade-110">Scheduler jobs are made up of sub jobs that specify the tables and table fields that contain the data to distribute.</span></span> <span data-ttu-id="ebade-111">يتضمن المقر الرئيسي وظائف جدولة محددة مسبقاً ووظائف فرعية تفي بمتطلبات النسخ المتماثل لمعظم المؤسسات.</span><span class="sxs-lookup"><span data-stu-id="ebade-111">Headquarters includes predefined scheduler jobs and sub jobs that meet the replication requirements of most organizations.</span></span> 

<span data-ttu-id="ebade-112">أنواع الوظائف المحددة مسبقاً هي:</span><span class="sxs-lookup"><span data-stu-id="ebade-112">The types of predefined jobs are:</span></span>

- <span data-ttu-id="ebade-113">**تنزيل الوظائف** – إرسال البيانات التي تغيرت من المقر الرئيسي إلى قواعد بيانات القناة.</span><span class="sxs-lookup"><span data-stu-id="ebade-113">**Download jobs** – Send data that has changed from Headquarters to channel databases.</span></span> <span data-ttu-id="ebade-114">يتم تعقب التعديلات على السجلات من خلال تعقب تغييرات SQL Server.</span><span class="sxs-lookup"><span data-stu-id="ebade-114">Modifications to records are tracked through SQL Server change tracking.</span></span>
- <span data-ttu-id="ebade-115">**تحميل الوظائف (وظائف P)** – سحب حركات المبيعات من قناة إلى قاعدة بيانات التجارة.</span><span class="sxs-lookup"><span data-stu-id="ebade-115">**Upload jobs (P-jobs)** – Pull sales transactions from a channel into the Commerce database.</span></span> <span data-ttu-id="ebade-116">تقوم P-jobs بتحميل البيانات بشكل متزايد، مما يعني أنها لا تقوم بتحديث البيانات التي تم تحميلها مسبقاً.</span><span class="sxs-lookup"><span data-stu-id="ebade-116">P-jobs upload data incrementally, which means that they do not update data that was previously uploaded.</span></span> <span data-ttu-id="ebade-117">للتأكد من أن البيانات لم يتم تحميلها بالفعل، تتحقق مكتبة Async Client من عداد النسخ المتماثل للسجلات التي تم استلامها بالفعل من أحد المواقع.</span><span class="sxs-lookup"><span data-stu-id="ebade-117">To ensure that the data hasn’t already been uploaded, the Async Client library checks the replication counter for records that have already been received from a location.</span></span> <span data-ttu-id="ebade-118">يتم تحميل سجل فقط إذا كان عداد النسخ الخاص به أكبر من أكبر قيمة تم العثور عليها.</span><span class="sxs-lookup"><span data-stu-id="ebade-118">A record is uploaded only if its replication counter is more than the largest value that is found.</span></span>

<span data-ttu-id="ebade-119">تستخدم سجلات جدولة التوزيع تعقب تغييرات SQL في نظام التشغيل لتحديد البيانات التي يجب إدراجها أو تحديثها أو حذفها في مجموعات قاعدة بيانات القنوات، وهو ما يسمى دلتا (أو التغييرات فقط).</span><span class="sxs-lookup"><span data-stu-id="ebade-119">The distribution scheduler records use SQL change tracking in the operating system to determine what data should be inserted, updated, or deleted in the channel database groups, which is called a delta (or changes only).</span></span> <span data-ttu-id="ebade-120">في المرة الأولى التي يتم فيها تشغيل الوظيفة، أو عندما تملي إعدادات تتبع تغيير SQL أن الدفع الكامل مطلوب (عادةً حوالي ثلاثة أيام)، يمكن إرسال دفعة كاملة لجميع البيانات إلى المتجر.</span><span class="sxs-lookup"><span data-stu-id="ebade-120">The first time that the job is run, or when the SQL change tracking settings dictate that a full push is required (typically around three days), a full push of all data can be sent to the store.</span></span> <span data-ttu-id="ebade-121">سيتم اقتطاع البيانات الموجودة في هذه الجداول (يتم حذفها بالكامل) وسيتم إدراج البيانات الجديدة.</span><span class="sxs-lookup"><span data-stu-id="ebade-121">Existing data in those tables will be truncated (fully deleted) and the new data will be inserted.</span></span> <span data-ttu-id="ebade-122">تتبع تغيير SQL يتم مواءمته مع جدولة التوزيع سجلات، إلى الجداول، وليس وظائف المجدول فقط</span><span class="sxs-lookup"><span data-stu-id="ebade-122">SQL change tracking is aligned to the distribution scheduler records, to the tables, not just the scheduler jobs.</span></span> <span data-ttu-id="ebade-123">يمكن أيضاً تشغيل عملية **مزامنة البيانات الكاملة** يدوياً من خلال صفحة **قاعدة بيانات القناة**، والتي لا تستخدم محرك تتبع التغيير.</span><span class="sxs-lookup"><span data-stu-id="ebade-123">This **Full data sync** process can also be manually run through the **Channel database** page, which does not use a change tracking engine.</span></span> 

<span data-ttu-id="ebade-124">[ ![لقطة شاشة لصفحة قاعدة بيانات القناة، تعرض اختيار مزامنة البيانات الكاملة](../media/full-data-sync-ssm.png) ](../media/full-data-sync-ssm.png#lightbox)</span><span class="sxs-lookup"><span data-stu-id="ebade-124">[ ![Screenshot of the Channel database page, showing the Full data sync selection](../media/full-data-sync-ssm.png) ](../media/full-data-sync-ssm.png#lightbox)</span></span>
 
<span data-ttu-id="ebade-125">تتيح لك مجموعة **قاعدة بيانات القناة** تجميع المزيد من قواعد بيانات القنوات المتشابهة في مجموعة بيانات واحدة.</span><span class="sxs-lookup"><span data-stu-id="ebade-125">The **Channel database** group allows you to group more similar channel databases into one data group.</span></span> <span data-ttu-id="ebade-126">تتمثل ميزة إنشاء مجموعة قاعدة بيانات القنوات في أنه يمكنك تحديد قواعد بيانات القنوات التي يجب تضمينها.</span><span class="sxs-lookup"><span data-stu-id="ebade-126">The advantage of creating a channel database group is that you can specify which channel databases should be included.</span></span> 

<span data-ttu-id="ebade-127">على سبيل المثال، إذا كان لديك قناتان، كلتاهما متصلتان بوحدة Commerce Scale Unit الخاصة بهما وتحتاجان إلى نفس البيانات، يمكنك توصيل وحدات القياس بمجموعة قاعدة بيانات قناة واحدة.</span><span class="sxs-lookup"><span data-stu-id="ebade-127">For instance, if you have two channels, both of which are connected with their own Commerce Scale Unit on-premises and need to have the same data, you can connect the scale units into one channel database group.</span></span> <span data-ttu-id="ebade-128">بعد هذا الإجراء، سيكون لكل من وحدتي المقياس نفس البيانات في قواعد البيانات الخاصة بهما.</span><span class="sxs-lookup"><span data-stu-id="ebade-128">After this action, both scale units will have the same data in their databases.</span></span> 

<span data-ttu-id="ebade-129">يتم تعريف كل مجموعة قواعد بيانات قنوات على أنها تحتوي على مخطط قناة التجارة الذي يحاذي إصدار قاعدة بيانات، مثل AX2012R3 أو AX7.</span><span class="sxs-lookup"><span data-stu-id="ebade-129">Each channel database group is defined as having a Commerce channel schema that aligns to a version of a database, such as AX2012R3 or AX7.</span></span> <span data-ttu-id="ebade-130">تسمح هذه الميزة بحالات الاستخدام للإصدارات المختلفة من retail POS في الميدان ولإنشاء المخططات والتعيينات لقواعد بيانات غير Dynamics POS.</span><span class="sxs-lookup"><span data-stu-id="ebade-130">This feature allows for use cases for different versions of the retail POS in the field and for constructing schemas and mappings for non-Dynamics POS databases.</span></span> 


