---
ms.openlocfilehash: d55af91ea29eab579082cd7c08ca75e2746ae56d
ms.sourcegitcommit: 82ed9ded42c47064c90ab6fe717893447cd48796
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 10/19/2020
ms.locfileid: "6070084"
---
يُعد Commerce runtime (CRT) بمثابة مجموعة من مكتبات ‎.NET المحمولة التي تحتوي على منطق الأعمال الأساسي لقناة التجارة ووظيفة التسعير. لإضافة منطق الأعمال أو تعديله، يمكنك تخصيص CRT.  

تتكون خدمة CRT من مجموعة من واحد أو أكثر من الطلبات والاستجابات. ترسل نقطة البيع طلباً إلى خادم البيع بالتجزئة (RS)، والذي يستدعي بدوره CRT لتشغيل منطق الأعمال. تقوم خدمة CRT بمعالجة الطلب وإرسال الرد مرة أخرى.

## <a name="crt-extension-patterns"></a>أنماط ملحق CRT

يمكنك تمديد CRT لتناسب سيناريوهات مختلفة من خلال اتباع أنماط تمديد CRT المدعومة. ملحقات CRT التالية مدعومة:

-  **إنشاء خدمة CRT جديدة** - إنشاء وظيفة أو ميزة جديدة.

-  **تجاوز الخدمة الحالية** - يمكنك تجاوز وظيفة حالية أو تخصيصها وفقاً لسير العمل الخاص بك. تجنب تجاوز المعالج. يمكنك تنفيذ معظم سيناريوهات تمديد خدمة CRT باستخدام المشغلات المسبقة أو اللاحقة. التجاوز مطلوب فقط عندما تريد استبدال الوظيفة الحالية بالكامل.

-  **المشغلات** - تشغيل منطق إضافي قبل أو بعد أي طلب.

## <a name="triggers"></a>المشغلات
في ملحق التشغيل المسبق، يمكنك تنفيذ بعض إجراءات التحقق من الصحة والمنطق المخصص وما إلى ذلك.
في ملحق التشغيل اللاحق، يمكنك إضافة بعض المعلومات المخصصة إلى الطلب ثم إرسالها إلى نقطة البيع. وبدلاً من ذلك، يمكنك تعديل النتيجة التي تم إرجاعها من الوظيفة القياسية أو إنشاء منطق عمل إضافي.

على سبيل المثال، تمنحك مشغلات CRT طريقة لتوسيع سير عمل CRT كما تتيح لك إمكانية إضافة منطق عمل قبل وبعد كل طلب CRT يتم تنفيذه. 

يتم تنفيذ الطريقتين التاليتين في ملحق التشغيل:

- **OnExecuting** - تتم الاستعانة بهذه الطريقة قبل معالجة الطلب بواسطة **‎IRequestHandler** مطابق.

- **OnExecuted** - تتم الاستعانة بهذه الطريقة بعد معالجة الطلب بواسطة **‎IRequestHandler** مطابق.

لمزيد من المعلومات، راجع [Commerce runtime (CRT) ‏‫وقابلية توسعة Retail Server‬](https://docs.microsoft.com/dynamics365/commerce/dev-itpro/commerce-runtime-extensibility?azure-portal=true).

