---
ms.openlocfilehash: 2dbe88d18b6e64e12f2724e018d22400ccfc8be2
ms.sourcegitcommit: b214fdb68f932da234d60906b9fe7a1d294c0af0
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 09/15/2022
ms.locfileid: "9508881"
---
في Project Operations، يتم إنشاء الفواتير الأولية كملحق للفواتير في Dynamics 365 Sales. ومع ذلك، تحدث العديد من الاختلافات في عملية الفوترة بين Sales وProject Operations. 

على سبيل المثال، لا يمكن إنشاء فاتورة جديدة من صفحة **الفواتير** في Project Operations، ولكن يمكن ذلك في Sales. وهذه الاختلافات والملحقات يتم وضعها لدعم عمليات الفوترة الخاصة بالمشاريع المختلفة عن الفاتورة النموذجية لأمر المبيعات.

## <a name="configure-automatic-invoice-creation"></a>تكوين عملية إنشاء الفواتير تلقائياً

يمكنك تكوين عملية إنشاء الفواتير تلقائياً في Project Operations. ويقوم النظام بإنشاء فاتورة أولية للمسودة استناداً إلى جدول الفاتورة لكل عقد مشروع وشروط التعاقد. ويتم تكوين جداول الفواتير في مستوى شروط التعاقد. ويمكن أن يكون لكل شرط في العقد جدول فاتورة مميز، أو يمكن تضمين جدول الفواتير نفسه في كل شرط من شروط التعاقد.

عند إنشاء فاتورة، يقوم النظام دائماً بإنشاء فاتورة واحدة على الأقل لكل عقد مشروع. وفي بعض الحالات، قد يتم إنشاء فواتير متعددة.

على سبيل المثال، إذا كان للعقد عدة عملاء، فسيتم إنشاء عدد الفواتير نفسه على أنه عدد العملاء الذين لديهم حركات قابلة للفوترة لفوترة عقد المشروع هذا.

أكمل الخطوات الآتية لتكوين التشغيل التلقائي للفاتورة.

1.  في Project Operations، انتقل إلى **الإعدادات > إعداد الفاتورة المتكررة**.
2.  قم بإنشاء مهمة دُفعة وتسميتها بالاسم **إنشاء فواتير Project Operations**. يجب أن يتضمن اسم الوظيفة الدفعية الكلمتين إنشاء فواتير.
3.  في الحقل **نوع الوظيفة**، حدد **بلا**. وبشكل افتراضي، يتم تعيين الحقول **التكرار يومياً** و **نشط** إلى **نعم**.
4.  حدد **تشغيل سير العمل**. في مربع حوار **البحث عن سجل**، سترى ثلاث مهام لسير العمل:
    - ProcessRunCaller
    - ProcessRunner
    - UpdateRoleUtilization
5.  حدد **ProcessRunCaller**، ثم حدد **إضافة**.
6.  وفي مربع الحوار التالي، حدد **موافق**. ويكون سير العمل **السكون** متبوعاً بسير العمل **العملية**.

## <a name="create-a-manual-proforma-invoice"></a>إنشاء فاتورة أولية يدوية

في Project Operations، يمكن إنشاء فواتير أولية يدوياً، حسب الحاجة. ويمكنك إنشاء فاتورة أولية يدوياً من صفحة القائمة **عقود المشروع** أو من الصفحة **تفاصيل عقد المشروع**.

### <a name="project-contracts-list-page"></a>صفحة القائمة "عقد المشروع"

من صفحة القائمة **عقود المشروع**، حدد عقد مشروع أو أكثر، ثم قم بإنشاء فواتير لكافة السجلات المحددة.

يقوم النظام بالتحقق مما إذا كانت حالة التراكم لعقود المشروع المحددة هي **جاهزة للفوترة** وأنها بتاريخ قبل تاريخ اليوم. ومن تلك العقود، يقوم النظام بإنشاء الفواتير الأولية للمسودة. وإذا كان لعقد المشروع عدة عملاء، فقد يتم إنشاء فاتورة واحدة لكل عميل وفواتير متعددة لكل عقد مشروع.

وتتوفر كافة فواتير المشروع التي تم إنشاؤها في الصفحة **الفاتورة** في القسم **الفوترة** من المنطقة **المبيعات**.

### <a name="project-contract-details-page"></a>صفحة التفاصيل "عقد المشروع"

يمكن أيضاً إنشاء فاتورة أولية من صفحة التفاصيل **عقد المشروع**، والتي تقوم بإنشاء الفاتورة لعقد المشروع المحدد هذا. يقوم النظام بالتحقق مما إذا كانت حالة التراكم لعقد المشروع هي **جاهز للفوترة** وأنها بتاريخ قبل تاريخ اليوم. ومن هذه العقود، يقوم النظام بإنشاء فواتير أولية للمسودة استناداً إلى عدد العملاء في جميع شروط التعاقد.

عند إنشاء فاتورة أولية فردية، يتم فتح الصفحة **الفاتورة**. وإذا تم إنشاء فواتير متعددة لعقد المشروع هذا، فسيتم فتح صفحة القائمة **الفواتير** لعرض كافة الفواتير التي تم إنشاؤها.

## <a name="manage-the-billing-backlog"></a>إدارة تراكم الفوترة

تحتوي Project Operations على طرق عرض للمساعدة على إدارة تراكم الفوترة. لإدارة تراكم الفوترة، حدد الارتباطات الموجودة في المنطقة **المبيعات** ضمن **الفوترة**.

وتتوفر طرق العرض الآتية داخل السيناريو **‏‫التوزيع الخفيف – التعامل مع الفواتير الأولية‬**:

- **‏‫المحتفظات والسُلف‬** - تسرد جميع ‏‫المحتفظات والسُلف‬ عبر كافة عقود المشاريع في النظام. وبعد فوترة ‏‫المحتفظات والسُلف‬، يصبح مبلغ السلفة متوفراً للاستخدام.

- **‏‫المحتفظات والسُلف المتوفرة‬** - تسرد جميع ‏‫المحتفظات والسُلف‬ المتوفرة عبر كافة عقود المشاريع في النظام. وبعد فوترة ‏‫المحتفظات والسُلف‬، يصبح مبلغ السلفة متوفراً للاستخدام وتتم إضافته إلى القائمة. وبعد أن يتم استخدام مبلغ المحتفظات أو السُلفة بالكامل، تتم إزالته من القائمة.

- **‏‫المراحل الرئيسية للأسعار الثابتة‬** - تسرد جميع ‏‫المراحل الرئيسية للأسعار الثابتة‬ عبر كافة شروط التعاقد الخاصة بالمشروع في النظام. ويمكن تحديد المراحل الرئيسية المفردة أو المتعددة بأنها **جاهزة للفوترة** أو **غير جاهزة للفوترة** من طريقة العرض هذه. ويؤدي تحديد المرحلة الرئيسية بأنها **جاهزة للفوترة** إلى إتاحة وضعها في فاتورة مسودة.

- **‏‫تراكم فوترة المنتجات‬** - يسرد كافة شروط التعاقد المستندة إلى المنتج عبر جميع عقود المشاريع في النظام. ويمكن تحديد شروط التعاقد المستندة إلى المنتج المفردة أو المتعددة بأنها **جاهزة للفوترة** أو **غير جاهزة للفوترة** من طريقة العرض هذه. ويؤدي تحديد شرط التعاقد المستند إلى المنتج بأنه **جاهز للفوترة** إلى إتاحة وضعه في فاتورة مسودة.

    ويتم عرض شرط التعاقد المستند إلى المنتج والموجود في فاتورة مسودة في طريقة العرض هذه بحالة الفوترة **فاتورة العميل التي تم إنشاؤها**. وعند تأكيد فاتورة المسودة، يتم تحديث حالة الفوترة في هذا السجل إلى **فاتورة العميل التي تم ترحيلها**. 

- **‏‫تراكم فوترة الوقت والمواد‬** - يسرد جميع القيم الفعلية للمبيعات غير المفوترة عبر كافة عقود المشاريع في النظام التي لم تتم فوترتها. ويمكن تحديد القيم الفعلية للمبيعات غير المفوترة المفردة أو المتعددة بأنها **جاهزة للفوترة** أو **غير جاهزة للفوترة** من طريقة العرض هذه. ويؤدي تحديد القيمة الفعلية غير المفوترة بأنها **جاهزة للفوترة** إلى إتاحة وضعها في فاتورة مسودة.

تعرف على المزيد حول الفوترة في [الشروع في العمل باستخدام الفوترة في الوحدة النمطية Dynamics 365 Project Operations](/training/modules/get-started-invoicing-project-operations/?azure-portal=true).
