---
ms.openlocfilehash: 250527f9afa78c4239832b7495aa7ff8fd2ac1a6
ms.sourcegitcommit: b553b85e16cc744acb7223ab5348070f6e26a4fe
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 09/21/2022
ms.locfileid: "9567433"
---
طوال اليوم، عندما يجتمع البائعون الميدانيون مع العملاء، قد تحدث أشياء يجب أن يكونوا على دراية بها. على سبيل المثال، قد يتم تعيين بائع إلى عميل متوقع جديد يجب عليه التعامل معه في أسرع وقت ممكن. ربما تم إنشاء اجتماع العميل وتخصيصه لهم. إذا لم يتم تنبيههم بالتغيير، فمن المحتمل أن يفوتهم القائد، أو لا يرون أن لديهم اجتماعاً مخصصاً لهم. في تطبيق Dynamics 365 Sales للأجهزة المحمولة، تتيح لك الإشعارات الفورية إرسال التحديثات إلى المستخدمين من خلال هواتفهم المحمولة أو أجهزة الكمبيوتر اللوحية.

يمكن استخدام الإعلامات المؤقتة لعناصر مثل:

-   تغييرات الحالة في السجلات التي تم تعيينها لهم.

-   تذكير البائعين الميدانيين بإدخال تغييرات حالة بيانات العمل المهمة في السجلات التي تم تعيينها لهم.

> [!IMPORTANT]
> يتطلب إعداد الإخطارات الفورية التعرف على كيفية إنشاء سير عمل المجموعة في Power Automate وكيفية استخدام موصل Dataverse.

-   مزيد من المعلومات حول [إنشاء تدفقات السحابة](/power-automate/overview-cloud/?azure-portal=true).

-   مزيد من المعلومات حول [التعامل مع موصل Dataverse](/connectors/commondataserviceforapps/?azure-portal=true).

## <a name="getting-started-creating-a-push-notification"></a>الشروع في إنشاء إعلام مؤقت

يتم تشغيل تطبيق Dynamics 365 Sales للأجهزة المحمولة بواسطة Microsoft Power Platform. إنه في الأساس تطبيق يعتمد على نموذج يتم استهلاكه على الأجهزة المحمولة. يتم تسليم الإعلامات المؤقتة باستخدام التدفقات التي تم إنشاؤها في Power Automate. يمكن تشغيلها استناداً إلى سلسلة من الأحداث المختلفة مثل سجل العميل المحتمل أو الفرص الذي يتم إنشاؤه.

بينما سيكون كل سيناريو تستخدمه المؤسسات للإشعارات الفورية مختلفاً، على مستوى عالٍ، ستبدو العملية مشابهة لما يلي:

1.  إنشاء وتحديد متى يجب تشغيل التدفق.

1.  تحديد المستخدم الذي تم تعيين السجل له.

1.  الحصول على أي معلومات إضافية (اختياري).

1.  استدعاء إجراء **الإعلام المؤقت**.

1.  عرض في تطبيق الأجهزة المحمولة.

### <a name="create-and-define-when-the-flow-should-be-triggered"></a>إنشاء وتحديد متى يجب تشغيل التدفق

تتمثل الخطوة الأولى في إنشاء التدفق وتحديد كيفية تشغيله. في مثالنا، نريد أن يتم تشغيل التدفق عند إنشاء سجل فرصة. سيضمن هذا إخطار البائع الميداني عند تخصيص فرصة جديدة له. 

نظراً لأنه يتم تخزين جميع معلومات Dynamics 365 Sales المتعلقة بالعملاء المتوقعين في Dataverse، فإن أسهل طريقة لتشغيل ذلك هي تطبيق موصل Dataverse. يوفر هذا مشغلات وإجراءات مختلفة يمكن تطبيقها على مثيل Dataverse. في هذه الحالة، نظراً لأننا نريد تشغيل التدفق عند إنشاء فرصة لأي شخص في المؤسسة، فسنقوم بتهيئة المشغل كما هو معروض في الصورة أدناه.

> [!div class="mx-imgBorder"]
> [![لقطة شاشة لمشغل إعلام مؤقت في Microsoft Power Automate.](../media/create-push-trigger.png)](../media/create-push-trigger.png#lightbox)

لمزيد من المعلومات، راجع [التعامل مع مشغلات Dataverse](/connectors/commondataserviceforapps/?azure-portal=true#triggers). 

### <a name="identify-the-user-assigned-as-the-owner-of-the-opportunity"></a>تحديد المستخدم الذي تم تعيينه كمالك للفرصة 

عندما يتم إنشاء الفرص، يتم تعيينها للمستخدم أو الفريق الذي سيكون مسؤولاً عنها. يتم ذلك باستخدام حقل **المالك**. لضمان إرسال إشعارات الدفع إلى الشخص الصحيح، سنحتاج إلى تحديد المستخدم الذي تم تعيينه كمالك لسجل الفرصة. في موصل Dataverse، هناك إجراء يسمى الحصول على صف بمعرف. يُستخدم هذا للإشارة إلى سجل معين. في هذه الحالة، نختار حقل المالك في الفرصة، لأنه يحدد المستخدم المسؤول عن الفرصة.  

> [!div class="mx-imgBorder"]
> [![لقطة شاشة لخطوة التدفق حيث يحصل التدفق على صف بواسطة المعرف.](../media/get-record.png)](../media/get-record.png#lightbox)

لمزيد من المعلومات حول مشغل الحصول على الصف بواسطة المعرف، راجع [الحصول على صف بواسطة معرف](/connectors/commondataserviceforapps/?azure-portal=true#get-a-row-by-id). 

### <a name="get-any-additional-information"></a>الحصول على أي معلومات إضافية

قد ترغب في تضمين معلومات إضافية في إشعار الدفع الذي ترسله إلى المستخدم. على سبيل المثال، قد ترغب في تضمين معلومات حول الحساب أو الاتصال بالفرصة المقترنة به. إذا كنت ستقوم بتضمين أي تفاصيل أخرى من السجلات ذات الصلة مثل الحساب، فستحتاج إلى الحصول على هذه المعلومات تماماً كما فعلنا مع المستخدم. في الصورة أدناه، نحصل على تفاصيل الحساب للحساب المرتبط بالفرصة.  

> [!div class="mx-imgBorder"]
> [![لقطة شاشة لخطوة الحصول على تدفق الحساب في Power Automate.](../media/additional-information.png)](../media/additional-information.png#lightbox)

### <a name="call-the-push-notification-action"></a>استدعاء إجراء الإعلام المؤقت

الآن بعد أن حددنا المستخدم الذي سيتم إرسال الإعلام إليه وأي بيانات قد نرغب في تضمينها، فإن الخطوة الأخيرة هي إنشاء وتعريف تفاصيل الإعلام. يشتمل موصل V2 الخاص بإعلامات Power Apps على إجراء **إرسال إعلام مؤقت V2**. يمكن استخدام هذا الإجراء لإرسال إخطارات الدفع إلى اللوحة والتطبيقات المستندة إلى النموذج. كما ذكرنا سابقاً، يعد تطبيق Sales للأجهزة المحمولة تطبيقاً يستند إلى نموذج.

للتأكد من أن دفع الإخطارات يعمل على النحو المطلوب ويتم دفعه إلى التطبيق الصحيح، ستحتاج إلى تحديد المعلومات التالية:

-   **تطبيق الأجهزة المحمولة:** يحدد نوع التطبيق، مثل Power App أو Sales. في هذا المثال، ستختار Sales.

-   **التطبيق الخاص بك:** - يقوم بتعريف التطبيق المحدد الذي ترغب في إعداد الإخطار له.

> [!div class="mx-imgBorder"]
> [![لقطة شاشة توضح الخطوة التي يتم فيها إرسال إعلام الدفع إلى المستلم.](../media/send-push-notification.png)](../media/send-push-notification.png#lightbox)

### <a name="view-in-the-sales-mobile-app"></a>عرض في تطبيق Sales للأجهزة المحمولة

كما ذكرنا سابقاً، لكي يتلقى البائعون إعلامات الدفع، سيحتاجون إلى التأكد من تمكينهم للإعلامات في التطبيق. يمكن القيام بذلك عند تشغيل التطبيق، أو من منطقة الإعدادات في التطبيق.
  
بمجرد التمكين، سيتم تشغيل تدفق Power Automate عند إنشاء فرصة، وسيتم عرض أي إشعارات دفع للبائع باستخدام الهاتف المحمول أو الجهاز اللوحي. لا يحتاج البائعون إلى الوجود في التطبيق أو استخدام أجهزتهم لتلقي الإعلامات المؤقتة.
