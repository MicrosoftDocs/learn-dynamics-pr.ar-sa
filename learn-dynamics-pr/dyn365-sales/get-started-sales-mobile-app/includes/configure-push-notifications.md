---
ms.openlocfilehash: df11a9a40a9a8ec47b2eecbb4c2893e3f5940c00
ms.sourcegitcommit: 66a6aa4535e3f0e63cce640cee1d3020bfe13c43
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 10/08/2022
ms.locfileid: "9642468"
---
على مدار اليوم، عندما يلتقي البائعون الميدانيون بالعملاء، قد تحدث مواقف معينة يجب أن يكونوا على دراية بها. على سبيل المثال، قد يتم تعيين بائع عميل متوقع جديد يجب أن يتعامل معه على الفور. قد يحدث سيناريو آخر حيث تم إنشاء اجتماع عميل وتعيينه لهم. إذا لم يتم تنبيههم بالتغيير، فمن المحتمل أن يفوتهم العميل المتوقع أو لن يلاحظوا أن لديهم اجتماعاً معيناً لهم. في تطبيق Dynamics 365 Sales للأجهزة المحمولة، تتيح لك الإشعارات الفورية إرسال التحديثات إلى المستخدمين من خلال هواتفهم المحمولة أو أجهزة الكمبيوتر اللوحية.

يمكنك استخدام الإشعارات الفورية من أجل:

-   تنبيه المستخدم حول تغييرات الحالة في السجلات التي تم تعيينها له.

-   تذكير البائعين الميدانيين بإدخال تغييرات حالة بيانات العمل المهمة في السجلات التي تم تعيينها لهم.

> [!IMPORTANT]
> يتطلب إعداد الإشعارات المباشرة فهماً لكيفية إنشاء تدفقات سحابية في Microsoft Power Automate وكيفية استخدام موصل Microsoft Dataverse.
لمزيد من المعلومات، راجع الوثائق [نظرة عامة على تدفقات السحابة](/power-automate/overview-cloud/?azure-portal=true) والوثائق [Microsoft Dataverse](/connectors/commondataserviceforapps/?azure-portal=true).

## <a name="get-started-creating-a-push-notification"></a>البدء في إنشاء إشعار دفع

يتم تشغيل تطبيق Dynamics 365 Sales للأجهزة المحمولة بواسطة Microsoft Power Platform. في الأساس، إنه تطبيق يعتمد على النموذج ويتم استهلاكه على الأجهزة المحمولة. يتم تسليم الإعلامات المباشرة باستخدام التدفقات التي تم إنشاؤها في Power Automate. يمكن تشغيلها استناداً إلى سلسلة من الأحداث المختلفة مثل سجل العملاء المحتملين أو الفرص التي يتم إنشاؤها.

سيختلف كل سيناريو تستخدم المؤسسات الإشعارات المباشرة له. على مستوى عالٍ، ستشبه العملية الخطوات التالية:

1.  إنشاء وتحديد متى يجب تشغيل التدفق.

1.  حدد المستخدم الذي تم تعيين السجل له.

1.  احصل على معلومات إضافية (اختياري).

1.  استدعاء إجراء **الإعلام المؤقت**.

1.  عرض في تطبيق الهاتف المحمول.

### <a name="create-and-define-when-the-flow-should-be-triggered"></a>إنشاء وتحديد متى يجب تشغيل التدفق

الخطوة الأولى هي إنشاء التدفق وتحديد كيفية تشغيله. على سبيل المثال، ستحتاج إلى تشغيل التدفق عند إنشاء سجل فرصة. سيضمن هذا النهج إخطار البائع الميداني عند تعيين فرصة جديدة له. 

نظراً لأن جميع معلومات Dynamics 365 Sales المتعلقة بالعملاء المتوقعين مخزنة في Dataverse، فإن أسهل طريقة لتشغيل هذا التدفق هي تطبيق موصل Dataverse. يوفر هذا النهج مشغلات وإجراءات مختلفة يمكن تطبيقها ضد مثيل Dataverse. في هذه الحالة، نظراً لأنك تريد تشغيل التدفق عند إنشاء فرصة لأي شخص في المؤسسة، ستقوم بإعداد المشغل كما هو موضح في الصورة التالية.

> [!div class="mx-imgBorder"]
> [![لقطة شاشة لمشغل إعلام مؤقت في Microsoft Power Automate.](../media/create-push-trigger.png)](../media/create-push-trigger.png#lightbox)

لمزيد من المعلومات، راجع مشغلات [Microsoft Dataverse](/connectors/commondataserviceforapps/?azure-portal=true#triggers). 

### <a name="identify-the-user-whos-assigned-as-owner-of-the-opportunity"></a>تحديد المستخدم الذي تم تعيينه كمالك للفرصة 

عندما يتم إنشاء الفرص، يتم تعيينها للمستخدم أو الفريق الذي سيكون مسؤولاً عنها. يمكنك إكمال هذه المهمة في حقل **المالك**. لضمان إرسال الإشعارات المباشرة إلى الشخص الصحيح، ستحتاج إلى تحديد المستخدم الذي تم تعيينه كمالك لسجل الفرصة. يتضمن موصل Dataverse إجراء يسمى **الحصول على صف بواسطة المعرف**.
يمكنك استخدام هذا الإجراء للإشارة إلى سجل معين. في هذه الحالة، ستحدد حقل **المالك** في الفرصة لأنه يحدد المستخدم المسؤول عن الفرصة.  

> [!div class="mx-imgBorder"]
> [![لقطة شاشة لخطوة التدفق حيث يحصل التدفق على صف بواسطة المعرف.](../media/get-record.png)](../media/get-record.png#lightbox)

لمزيد من المعلومات، راجع [الحصول على صف من خلال المعرف](/connectors/commondataserviceforapps/?azure-portal=true#get-a-row-by-id). 

### <a name="get-extra-information"></a>الحصول على معلومات إضافية

قد ترغب في تضمين معلومات إضافية في إشعار الدفع الذي سترسله إلى المستخدم. على سبيل المثال، قد ترغب في تضمين معلومات حول الحساب أو جهة الاتصال التي ترتبط بها الفرصة. إذا كنت تخطط لتضمين مزيد من التفاصيل من السجلات ذات الصلة، مثل الحساب، فستحتاج إلى الحصول على هذه المعلومات بنفس الطريقة التي حصلت عليها للمستخدم. تعرض الصورة التالية تفاصيل الحساب التي يتم استردادها للحساب المرتبط بالفرصة.  

> [!div class="mx-imgBorder"]
> [![لقطة شاشة لخطوة تدفق الحصول على الحساب في Power Automate.](../media/additional-information.png)](../media/additional-information.png#lightbox)

### <a name="call-the-push-notification-action"></a>استدعاء إجراء الإعلام المؤقت

الآن بعد أن حددت المستخدم الذي تريد إرسال الإشعار إليه والبيانات التي قد ترغب في تضمينها، فإن الخطوة الأخيرة هي إنشاء تفاصيل الإشعار وتحديدها. يتضمن موصل الإصدار الثاني للإشعارات Microsoft Power Apps الإجراء **إرسال الإصدار الثاني للإعلام المؤقت**. يمكنك استخدام هذا الإجراء لإرسال إشعارات فورية إلى اللوحة والتطبيقات المستندة إلى النموذج. كما ذكرنا سابقاً، فإن تطبيق المبيعات للأجهزة المحمولة هو تطبيق يعتمد على النموذج.

للتأكد من أن دفع الإشعارات يعمل على النحو المطلوب ويتم دفعه إلى التطبيق الصحيح، ستحتاج إلى تحديد المعلومات التالية:

-   **تطبيق الأجهزة المحمولة** - يحدد نوع التطبيق الذي يمثله، مثل تطبيق من Power Apps أو المبيعات. في هذه الحالة، ستحدد المبيعات.

-   **التطبيق الخاص بك** - يقوم بتعريف التطبيق المحدد الذي ترغب في إعداد الإخطار له.

> [!div class="mx-imgBorder"]
> [![لقطة شاشة توضح الخطوة التي يتم فيها إرسال إعلام الدفع إلى المستلم.](../media/send-push-notification.png)](../media/send-push-notification.png#lightbox)

### <a name="view-in-the-sales-mobile-app"></a>عرض في تطبيق Sales للأجهزة المحمولة

لكي يتلقى البائعون إشعارات الدفع، سيحتاجون إلى التأكد من تمكين الإشعارات في التطبيق. يمكنهم القيام بذلك عند تشغيل التطبيق أو من منطقة الإعدادات في التطبيق.
  
بعد تمكين الإشعارات، سيتم تشغيل تدفق Power Automate عند إنشاء فرصة، وسيتم عرض أي إعلامات دفع للبائع الذي يستخدم الهاتف المحمول أو الجهاز اللوحي. لا يحتاج البائعون إلى الوجود في التطبيق أو استخدام أجهزتهم لتلقي الإعلامات المؤقتة.
