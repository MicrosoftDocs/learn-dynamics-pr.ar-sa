---
ms.openlocfilehash: e91e7033d6981fa5f8958ad66cf658bb3b83312e
ms.sourcegitcommit: 2172d090a077fab7bc258f79a2585fd5079bca95
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 08/27/2022
ms.locfileid: "9359998"
---
استناداً إلى الاحتياجات الفريدة لأعمالك، قد ترغب في تشغيل عمليات مخصصة أو تدفقات Power Automate في نقاط معينة في رحلة العميل. بدلاً من ذلك، قد ترغب في إنشاء رحلات متعددة تعمل معاً بشكل منطقي. من خلال تشغيل الإجراءات المخصصة، يمكنك إنجاز هذه المهام، والتي ستعمل كحلقة وصل بين الرحلات أو بين الرحلات والعمليات المخصصة.

تتضمن الأمثلة على المكان الذي يمكنك فيه تشغيل الإجراءات المخصصة ما يلي:

-  عندما تقوم بإشراك العملاء حتى يتمكنوا من شراء اشتراك.
    ومع ذلك، إذا لم يفعلوا ذلك بنهاية رحلة العميل، فستحتاج إلى إضافتهم إلى رحلة التنشئة. يمكنك توجيه العملاء من خلال تنشيط مشغل مخصص من رحلة الاشتراك ثم استخدامه كمشغل إدخال من رحلة التنشئة.

-  رحلة طلب القرض لها خطوات مختلفة تتطلب موافقة الوكيل البشري. من خلال إنشاء رحلة عميل منفصلة أو تدفق Power Automate للموافقة على استثناء القرض، يمكنك تشغيله من نقاط مختلفة في رحلات طلب القرض حيث يمكن أن تحدث استثناءات عن طريق تنشيط المشغل المخصص.

-  تحتاج إلى إشراك العملاء من خلال تطبيق أو قناة أخرى، مثل Microsoft Teams، التي تحتوي على موصل Power Automate. يمكنك إنشاء تدفق Power Automate باستخدام هذا الموصل ثم جعله يبدأ في استخدام المشغل المخصص الذي يمكنك تنشيطه من النقاط ذات الصلة في رحلتك.

-  تحتاج إلى إنشاء أنشطة Dynamics 365 (مثل مكالمة مبيعات أو تذاكر خدمة) من أي نقطة في رحلة العميل. من خلال تنشيط مشغل مخصص، يمكنك تشغيل تدفق Power Automate الذي ينشئ هذه الأنشطة بالنيابة عن الرحلة.

## <a name="launch-an-action-outside-of-a-journey-by-using-a-custom-trigger"></a>بدء إجراء خارج الرحلة باستخدام مشغل مخصص

في هذا السيناريو، قمت بإنشاء رحلة بهدف رعاية العملاء الذين أجروا عمليات شراء. يدخل العملاء الرحلة عندما يجرون عملية شراء من متجر عبر الإنترنت، وتريد الرد عليهم باستخدام بيانات الشراء ذات الصلة. تستخدم هذه الرحلة لوحة  **السمة** التي ترسل العميل إلى فرع  **نعم** إذا كان عميلاً جديداً وفرع **لا** إذا كان عميلاً حالياً أو عضواً في المكافآت. يحتوي كل فرع على مشغل مخصص يقوم بمهمة معينة.

يوضح المثال التالي كيف ستعمل المشغلات المخصصة في الرحلة للعميل 1 والعميل 2:

**العميل 1** - يدخل الرحلة كعضو مكافآت موجود وينتقل إلى فرع **نعم** في لوحة السمة. يحتوي فرع **لا** على مشغل مخصص يرسل العميل 1 إلى رحلة منفصلة مصممة لرعاية أعضاء المكافآت.

**العميل 2** - يدخل الرحلة كعميل جديد وينتقل إلى فرع **نعم** في لوحة السمة. في فرع **نعم** ، يصل إلى مشغل مخصص قمت بتوصيله بتدفق Power Automate.
نظراً لأن العميل لم يجرِ عملية شراء مسبقة مطلقاً، فأنت تريد ملء المعلومات ذات الصلة بالعميل مسبقاً باستخدام بيانات الشراء. سيعين التدفق رقم مكافآت للعميل إذا تم توفير رقم هاتف صالح في وقت التسجيل.

في هذا السيناريو، يتطلب إعداد إجراء مشغل مخصص ثلاث خطوات: 

1.   تحديد مشغل مخصص.

2.   فهم استخدام المشغل المحدد.

3.   تعيين السمات.

### <a name="step-1-select-a-custom-trigger"></a>الخطوة 1: تحديد مشغل مخصص

بعد وضع **مشغل مخصص** على لوحة الرحلة، حدد أيهما سيتم تنشيط المشغل المخصص عندما يصل العميل إلى هذه النقطة في الرحلة.

### <a name="step-2-understand-the-selected-trigger-usage"></a>الخطوة 2: فهم استخدام المشغل المحدد

بعد تحديد المشغل المخصص، سيتم عرض الاستخدام الحالي للمشغل المخصص في جميع الرحلات في حقل **مُستخدم في** في جزء الخصائص. من خلال تحديد الارتباط **مُستخدم في** ، ستتمكن من عرض جميع الرحلات والحالات المقابلة التي تستخدم نفس المشغل المخصص.

> [!NOTE]
> لا يتم تعقب أو عرض تدفقات Power Automate التي تشير إلى الحدث المخصص في قائمة **مُستخدم في.** 

> [!TIP]
> ستعمل الرحلات الحية المعروضة في قائمة **مُستخدم في** على تنشيط المشغل المخصص نفسه عندما يصل العميل إلى هذه اللوحة في الرحلات المعنية.
سيؤدي هذا الإجراء إلى تشغيل رحلات أخرى باستخدام نفس المشغل المخصص كمشغل إدخال. سيؤدي أيضاً إلى تشغيل خطوات في الرحلات الأخرى التي تشير إلى المشغل المخصص، مثل فروع إذا/ثم أو شروط الخروج أو الأهداف.

### <a name="step-3-map-attributes"></a>الخطوة 3: تعيين السمات

عندما يصل العميل إلى هذه المرحلة من الرحلة، سيحتاج المشغل المخصص المنشط إلى معرفة مكان الحصول على معلومات العميل. ستسمح ميزة **تعيين السمات**، التي تظهر في الجزء الجانبي للمشغل المخصص، بالتعيين الديناميكي للمعلومات التي أرسلت في إجراء المشغل.

لتعيين كل سمة، حدد السمة ثم حدد حقل البيانات الذي تأتي منه بيانات التشغيل. بعد تعيين البيانات، حدد **حفظ** لكل سمة.

> [!NOTE]
> سمات المشغل المخصصة خاصة بنوع البيانات.

لمزيد من المعلومات، راجع [رفع المشغلات من رحلة لتشغيل رحلة أخرى أو تدفق Power Automate](/dynamics365/marketing/real-time-marketing-custom-actions/?azure-portal=true).
