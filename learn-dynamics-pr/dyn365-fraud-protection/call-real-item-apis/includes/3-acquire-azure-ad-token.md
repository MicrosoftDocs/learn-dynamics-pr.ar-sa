---
ms.openlocfilehash: 7af05ad4501448e8bacdcb360c6125bc17761c96
ms.sourcegitcommit: 1d9dbd81b128041197540f8687181cc789626fc2
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 12/08/2021
ms.locfileid: "7900595"
---
يمكنك استخدام الرمز المميز لمصادقة Microsoft Azure Active Directory (Azure AD) لمصادقة/تخويل Dynamics 365 Fraud Protection. فيما يلي الخطوات المطلوبة للحصول على الرمز المميز. 

1. افتح مدخل Dynamics 365 Fraud Protection وحدد **تكامل API** على لوحة المعلومات.

1. حدد **تكامل واجهات API في الوقت الحقيقي**.

1. على علامة التبويب **تكوين**، دوّن تفاصيل **البيئة الحالية**، التي تسرد معرف المثيل وURI مورد API ونقطه نهاية API. تتضمن المعلومات التي تقوم بتسجيلها ما يلي:

    - **معرف المثيل** - يميزك عن التجار الآخرين في عالم Dynamics 365 Fraud Protection.

    - **نقطة نهاية API** - استخدمها كعنوان URL أساسي لاستدعاء Dynamics 365 Fraud Protection.

    - **عنوان URL‎ لمورد API** - استخدمه للحصول على الرمز المميز (سيتم شرح هذه العملية في الخطوات اللاحقة).

    - **نقطة نهاية API** - تعرض القيم التي تتضمن *"-int.com"* إذا كنت في بيئة التكامل. ومع ذلك، إذا كنت على مدخل الإنتاج، فسيتم عرض القيم التي لا تتضمن *‏"int-"*.

1. قم بالتمرير لأسفل واعمل على إعداد تطبيق Azure AD للسماح لك بالحصول على الرموز المميزة في مقابل ذلك التطبيق.

    1. في حقل **الاسم المعروض للتطبيق**، أدخل أي اسم معروض لتطبيق تريده، **DFP اختبار التطبيق**.

    1. حدد **أسلوب المصادقة** المفضل، مثل تحديد **سر** للوصول القائم على سر إلى تطبيق Azure AD.

    1. حدد **إنشاء تطبيق**.

   ينشئ Dynamics 365 Fraud Protection جميع التفاصيل المطلوبة لإنشاء رمز مميز واستدعاء بيئتك في Dynamics 365 Fraud Protection.

    > [!NOTE]
    >
    > **معرف التطبيق (العميل)** يعرّف تطبيق Azure AD ويُستخدم لإنشاء رمز مميز.
    >
    > **سر العميل** يصادق على استدعاء Azure AD لإحضار الرمز المميز لك. تظهر هذه المعلومات مرة واحدة فقط. من المستحسن تخزين هذه المعلومات في موقع آمن، مثل Microsoft Azure Key Vault أو عرض مماثل من موفر السحابة.

1. استخدم تطبيق Postman (أو أي عميل تختاره) لاستخدام تعليماتك البرمجية وإرسال طلب REST للحصول على رمز مميز:

    1. حدد **طلب POST**.

    1. في الحقل **URL**، أدخل:

       `/{{InstanceId}}/oauth2/token*/?azure-portal=true`

        (تم تقديم **معرف المثيل** في الخطوة 2.)

    1. حدد **النص**، ثم حدد `x-www-form-urlencoded`.

    1. حدد **رؤوس** لتأكيد **Content-Type**. يعرض الرأس `application/x-www-form-urlencoded`.

    1. حدد **النص**، ثم حدد `x-www-form-urlencoded`. بعد ذلك، أدخل المعلومات التالية:

        - في الحقل **grant_type**، أدخل `client_credentials`.
            > (هذه القيمة هي قيمة سلسلة ثابتة.)

        - في حقل **client_id**، أدخل `{{ApplicationId}}`.
            > (هذه القيمة هي معرف التطبيق من الخطوة 5.)

        - في حقل **client_secret‎**، أدخل `{{Secret}}`.
            > (هذه المعلومات هي من الخطوة 5.)

        - في حقل **المورد**، أدخل `{{API Resource URL}}`.
            > (هذه المعلومات هي من الخطوة 3.)

    1. حدد **إرسال**.

1. تحقق من الاستجابة التي تظهر تحت **الحالة**. إذا كانت الحالة **200 موافق**، فهذا يعني أن معالجة الطلب قد تمت بشكل صحيح.

    يمكنك أيضاً مراجعة علامة تبويب **النص** فيما يتعلق *بالرمز المميز للوصول* الذي تم إنشاؤه لك. تم تمييز هذا الرمز المميز للوصول في الصورة التالية.

> [!NOTE]
> **فترة صلاحية هذا الرمز المميز هي ساعة واحدة.** لا يمكنك زيادة فترة الصلاحية. إذا انتهت صلاحية الرمز المميز قبل اجراء استدعاء API، ستحتاج إلى تكرار الخطوات السابقة لإنشاء رمز مميز جديد.

> [!div class="mx-imgBorder"]
> [![لقطة شاشة لطلب التعليمات البرمجية لتطبيق Postman.](../media/postman.png)](../media/postman.png#lightbox)
