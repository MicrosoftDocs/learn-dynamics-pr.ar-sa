---
ms.openlocfilehash: aee9e31a4063e317435a0f17b37e415a568015f4
ms.sourcegitcommit: 490729d6b819203f65b1a04508069dff1ca07256
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 10/01/2022
ms.locfileid: "9612054"
---
تعرض هذه الوحدة سيناريوهات الأداء عند ترحيل البيانات.


## <a name="optimize-data-migration-performance-by-using-correct-data-entity-and-configuration"></a>تحسين أداء ترحيل البيانات باستخدام كيان البيانات وتكوينها الصحيحين

يستغرق تحميل كميات كبيرة من البيانات باستخدام إطار عمل إدارة البيانات وقتاً أطول من وقت الترحيل الكلي المحدد. يمكنك ترحيل البيانات خلال نافذة الترحيل الكلي المحددة فقط.

### <a name="patterns"></a>الأنماط
تتمثل إحدى طرق تحسين ترحيل البيانات في استخدام الكيانات الصحيحة للترحيل. يجب استخدام الكيانات ذات مصادر البيانات الأقل بحيث تكون أخف بشكل كبير.

بالنسبة للسيناريوهات ذات الحجم الكبير من البيانات، استخدم الكيانات التي تدعم تعدد مؤشرات الترابط. يبدو أن الكيان **CustomersV3** هو الكيان الأكثر استخداماً، لكنه لا يدعم تعدد مؤشرات الترابط. بدائل الكيان **CustomersV3** هي **تعريف العميل** و **تفاصيل العميل**، التي يجب استخدامها في سيناريوهات الحجم الكبير لأنها تدعم تعدد مؤشرات الترابط.

- استخدم الكيانات التي تدعم تعدد مؤشرات الترابط، مثل **تعريف العميل** (CustCustomerBase) و **تفاصيل العميل** (CustCustomerDetailsV2).
- قم بتعطيل تعقب التغييرات لترحيل البيانات.
- استخدم الاستيراد المجمع من خلال تمكين المعالجة المستندة إلى مجموعة (لا تدعم جميع الكيانات المعالجة المستندة إلى مجموعة).
- راجع نظام ترحيل البيانات وتكوينات الكيانات.
- راجع التغييرات القادمة والكيانات الجديدة. 

### <a name="anti-patterns"></a>الأنماط المضادة
تجنب ‏‫الأنماط المضادة التالية عند تحسين أداء ترحيل البيانات باستخدام كيان البيانات وتكوينها الصحيحين:

- تمكين تعقب التغييرات
- استخدام كيان بيانات المجموعة المركبة
- تشغيل عمليات التحقق من صحة الأعمال X++
- استخدام SQL لترحيل البيانات 

## <a name="optimize-data-migration-performance-through-bundling-and-iterative-performance-testing"></a>تحسين أداء ترحيل البيانات من خلال التجميع واختبار الأداء التكراري

أثناء اختبار الأداء، يلاحظ العميل أن تحميل كمية كبيرة من البيانات في وضع الدفعة (**استيراد في دفعة**) يأخذ نفس مقدار الوقت الذي تستغرقه عملية الاستيراد غير المتزامن (**استيراد الآن**). تحدد الشركة أنه لا يمكنها إكمال أنشطة ترحيل البيانات خلال فترة الانتقال المحددة.

### <a name="patterns"></a>الأنماط
استخدم الأساليب التالية عند تحسين أداء ترحيل البيانات من خلال التجميع واختبار الأداء التكراري:

- استخدم **الاستيراد في وضع الدُفعة** للاستفادة من إمكانات تعدد مؤشرات الترابط.
- استخدم **‬‏‫عدد سجلات حد الاستيراد** و **‏‫عدد مهام الاستيراد‬** لاستخدام ‏‫حزم الدفعات.
- حدد العدد المناسب لمؤشرات الترابط، وعدد سجلات الحد، وعدد مهام الاستيراد، وما إلى ذلك، استناداً إلى حجم البيانات وعدد مؤشرات الترابط الدفعية المتوفرة.
- اجمع وقارن المعلومات المتعلقة بكل اختبار لأن اختبار أداء ترحيل البيانات هو عملية تكرارية. سيساعدك هذا النهج على تحديد التكوين الأمثل لكيان معين.
- مراجعة [تحسين ترحيل البيانات لتطبيقات التمويل والعمليات](/dynamics365/fin-ops-core/dev-itpro/sysadmin/optimize-data-migration/?azure-portal=true).

### <a name="anti-patterns"></a>الأنماط المضادة
تجنب الأنماط المضادة التالية عند تحسين أداء ترحيل البيانات من خلال التجميع واختبار الأداء التكراري:

- استيراد مجموعات البيانات الكبيرة بشكل تفاعلي
- البدء بدون خطة لاختبار أداء ترحيل البيانات وضبطه
- استخدام الإنتاج لاختبار ترحيل البيانات
- التخطيط فقط للتشغيل التجريبي لترحيل بيانات التكرار الفردي

## <a name="warm-up"></a>التجهيز 
يتباطأ تحميل البيانات بعد أن يقوم العميل باستيراد كمية كبيرة من البيانات إلى المجموعة الأولية من الكيانات القانونية. يستمر الأداء في التدهور لنفس كيان البيانات لعمليات تحميل البيانات اللاحقة في الكيانات القانونية الأخرى. 

### <a name="patterns"></a>الأنماط 
استخدم الأساليب التالية عند تجهيز النظام لأحمال البيانات اللاحقة في الكيانات القانونية الأخرى:

- خطط لتنظيف السجل باستخدام التنظيف المرحلي، المتوفر في مساحة عمل إدارة البيانات.
- راجع عدد السجلات في كل ملف وتحقق مما إذا كانت الملفات الأصغر ستحسن الأداء العام من خلال السماح لـ SQL بتحديد خطة استعلام جديدة.


### <a name="anti-patterns"></a>الأنماط المضادة
تجنب الأنماط المضادة التالية عند تجهيز النظام لعمليات تحميل البيانات التالية في الكيانات القانونية الأخرى:

- عدم وجود مراجعة لبيانات تتبع الاستخدام للأداء، مثل الفهارس وخطط الاستعلام وغير ذلك المزيد
- استخدام بيئة من المستوى 1 لترحيل البيانات، لأن:
    - سيتم تجريد رسائل البريد الإلكتروني لجهات الاتصال وأكثر من ذلك.
    - تختلف بنية بيئة المستوى 1 المستضافة على السحابة وبيئة المستوى 2+، وبالتالي لا يمكن مقارنة الأداء.


## <a name="optimize-the-number-sequence-approach"></a>تحسين نهج التسلسل الرقمي
يقوم العميل باستيراد كمية كبيرة بشكل استثنائي من أرصدة دفتر اليومية. يتم تعريف اسم دفتر اليومية على أنه **فيما يتعلق بالرصيد** حيث يتم تعيين رقم إيصال جديد كلما تمت موازنة الإيصال.

لمزيد من المعلومات، راجع [استيراد الإيصالات باستخدام كيان دفتر اليومية العام](/dynamics365/fin-ops-core/dev-itpro/data-entities/tips-tricks-import-general-journal-entity/?azure-portal=true). استخدم إعداد **المعالجة المستندة إلى المجموعة**؛ يستخدم كيان دفتر اليومية العام **المعالجة المستندة إلى المجموعة** بشكل افتراضي. تأكد من تشغيل هذا الخيار.

خذ بعين الاعتبار العوامل التالية لهذا السيناريو: 

- يستخدم كيان **دفتر اليومية العام** إعداد **المعالجة المستندة إلى المجموعة**. عند استخدام هذا الإعداد على كيان دفتر اليومية العام، ستحتاج إلى توفير رقم الإيصال في الملف المستورد. يتم تعيين رقم الإيصال المتوفر في الملف المستورد لكل معاملة في دفتر اليومية العام، حتى إذا لم يكن الإيصال متوازناً. 
- باستخدام المعالجة المستندة إلى مجموعة، إذا كنت تريد استخدام أرقام الإيصالات من النظام واسم دفتر اليومية المستخدم للاستيراد، فقم بتعيين الخيار **توزيع الرقم عند الترحيل** على **نعم**.
- في حالة عدم استخدام إعداد **‏‫المعالجة المستندة إلى مجموعة**، لا يلزم توفير رقم إيصال في الملف الذي تم استيراده. يتم إنشاء أرقام الإيصالات أثناء الاستيراد استناداً إلى إعداد اسم دفتر اليومية (**إيصال واحد فقط، فيما يتعلق بالرصيد**، وما إلى ذلك). على سبيل المثال، إذا تم تعريف اسم دفتر اليومية على أنه **فيما يتعلق بالرصيد**، فسيحصل السطر الأول على رقم إيصال افتراضي جديد. وبعد ذلك، سيقوم النظام بتقييم السطر لتحديد ما إذا كانت قيمة الديون تساوي الأرصدة. في حالة وجود حساب مقابل في السطر، سيحصل السطر التالي الذي تم استيراده على رقم إيصال جديد. في حاله عدم وجود حساب مقابل، سيقوم النظام بتقييم ما إذا كانت قيمة الديون مساوية للأرصدة عند استيراد كل سطر جديد.
- إعداد **الإنشاء التلقائي** لحقل **رقم الإيصال** غير مدعوم.

### <a name="patterns"></a>الأنماط
استخدم أفضل الممارسات التالية عند تحسين نهج التسلسل الرقمي:

- حيثما أمكن، قم بتضمين قيم التسلسل الرقمي الضرورية مباشرةً في ملف الاستيراد. بعد اكتمال الاستيراد، قم بتحديث الرقم التالي في التسلسل الرقمي بحيث يتماشى مع البيانات التي تم ترحيلها.
- إذا كانت التسلسلات الرقمية مطلوبة، فتأكد من تمكين **التوزيع المسبق** ومن تعيين قيمة **كمية الأرقام** إلى قيمة مناسبة


### <a name="anti-pattern"></a>النمط المضاد
عندما تقوم بتحسين نهج التسلسل الرقمي، لا تستخدم تسلسلاً رقمياً مستمراً ما لم يكن ذلك شرطاً قانونياً.

## <a name="keep-data-migration-separate-from-dual-write"></a>إبقاء ترحيل البيانات منفصلاً عن الكتابة المزدوجة
يستخدم العميل العديد من منتجات Dynamics 365 المختلفة. إنه يخطط لاستخدام البنية التحتية للكتابة المزدوجة لدمج البيانات من Microsoft Dataverse لتطبيقات التمويل والعمليات والعكس صحيح. على سبيل المثال، سيحتاج العميل إلى ترحيل بيانات **الحسابات** إلى Dataverse، وستحتاج بيانات **الحسابات** نفسها إلى نقلها كبيانات **عملاء** إلى Dynamics 365 Finance عند بدء التشغيل.

### <a name="patterns"></a>الأنماط
خذ بعين الاعتبار المعلومات التالية عند إبقاء ترحيل البيانات منفصلاً عن الكتابة المزدوجة‬:

- تم تصميم البنية التحتية للكتابة المزدوجة لدمج البيانات في الوقت الفعلي تقريبا بين Dataverse وتطبيقات التمويل والعمليات.
- يمكنك استخدام الكتابة الأولية/المزامنة الأولية لمزامنة الإعداد الخاص بمستوى الصوت المنخفض والبيانات المرجعية فقط.
- لا تُعد الكتابة الأولية/المزامنة الأولية بديلاً لترحيل البيانات الرئيسية أو بيانات المعاملات كبيرة الحجم.
- تستخدم البنية الأساسية للكتابة المزدوجة تكامل OData من خلال كيانات البيانات في تطبيقات التمويل والعمليات. إنها غير مناسبة لسيناريوهات ترحيل البيانات حيث يلزم استيراد البيانات المجمعة.
- يجب على العملاء ترحيل كميات كبيرة من البيانات بشكل منفصل في Dataverse وتطبيقات التمويل والعمليات قبل تمكين الكتابة المزدوجة.

### <a name="anti-patterns"></a>الأنماط المضادة
تجنب الأنماط المضادة التالية عند إبقاء ترحيل البيانات منفصلاً عن الكتابة المزدوجة:

- استخدام OData لترحيل البيانات
- استخدام الكتابة المزدوجة كتقنية لترحيل البيانات 


## <a name="use-the-recurring-integrations-scheduler-ris-for-automating-data-movement"></a>استخدم Recurring Integrations Scheduler ‏(RIS) لأتمتة حركة البيانات 
يحتوي العمل على عدد كبير من الكيانات القانونية (على سبيل المثال، أكثر من 50 كياناً) في Dynamics 365. قام العميل بإنشاء مجلدات لكل كيان قانوني (محلي). يستخرج العميل البيانات من التطبيق القديم، ثم يُنشئ ملفاً واحداً لكل كيان بيانات، لكل كيان قانوني، ثم يتم وضعه في مجلد الكيان القانوني المقابل. فكر العميل في إنشاء مشروع بيانات وتحديد ملف البيانات يدوياً لكل كيان قانوني، ولكنها عملية شاقة وعرضة للخطأ.

### <a name="patterns"></a>الأنماط 
اتبع أفضل الممارسات التالية عند استخدام Recurring Integrations Scheduler ‏(RIS) لتنفيذ تحريك البيانات تلقائياً:

- قم بإعداد مجلدات الإدخال لكل كيان قانوني.
- استخدم مشاريع البيانات أو خيار قالب الحزمة داخل RIS لإنشاء حزم بيانات (ملف مضغوط) مع البيانات وبيانات التعريف.
- قم بإعداد مهمة متكررة في RIS وإدارة تكوين RIS (استيراد/تصدير).
- بدلاً من ذلك، انظر إلى وظيفة **تنفيذ مهام البيانات تلقائياً**.

### <a name="anti-pattern"></a>النمط المضاد
عند استخدام Recurring Integrations Scheduler ‏(RIS) لأتمتة حركة البيانات، لا تقم بتطوير تعليمات X++ البرمجية لإدارة الملفات.

## <a name="follow-performance-due-diligence-in-the-environment"></a>اتباع العناية الواجبة للأداء في البيئة
يواجه العميل مشكلات في الأداء أثناء ترحيل البيانات إلى تطبيقات المالية والعمليات. 

### <a name="patterns"></a>الأنماط
استخدم أفضل الممارسات التالية عند اتباع العناية الواجبة للأداء في البيئة:

- تأكد من أن عمليات الاستيراد/التصدير المتكررة [محدودة](/dynamics365/human-resources/hr-admin-troubleshooting-batch-jobs/?azure-portal=true). يمكن أن يؤثر وجود معدل تكرار مرتفع في أداء النظام.
- قم بتعطيل توزيع بيانات دفع المهام إلى قاعدة بيانات مخزن الكيانات (AXDW) وإحضار مهام قاعدة بياناتك (BYOD) الخاصة أثناء إجراء عمليات استيراد كبيرة.
- تأكد من أن المهام الدفعية متباعدة بما يكفي لإتاحة الوقت للانتهاء قبل بدء المهمة التالية في قائمة الانتظار.
- تأكد من أن حزم ترحيل البيانات لا تتضمن كيانات V1 وV2 لجدول النظام نفسه. إذا تضمنت مهمة دفعية استيراداً لكليهما، فيمكن وضع ضغط إضافي/غير ضروري على الجداول.
- تأكد من عدم استخدام النظام لأغراض أخرى أثناء ترحيل البيانات.
- قم بتعطيل التنفيذ التلقائي الخارجي، مثل Microsoft Power Automate، وMicrosoft Logic Apps، وما إلى ذلك، أثناء ترحيل البيانات.


### <a name="anti-patterns"></a>الأنماط المضادة
تجنب هذه الأنماط المضادة عند اتباع العناية الواجبة للأداء في البيئة:

- تعيين معدل تكرار عالٍ على عمليات الاستيراد والتصدير
- تضمين كيانات V1 وV2 لجدول النظام نفسه


