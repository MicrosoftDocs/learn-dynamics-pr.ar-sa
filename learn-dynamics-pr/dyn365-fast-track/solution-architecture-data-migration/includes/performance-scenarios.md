---
ms.openlocfilehash: 6978ca71f728366a9a26d92758b69a0a98a801cc
ms.sourcegitcommit: c1858cd3b2bd6663edff36e214795d4934ad3ddf
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 09/22/2022
ms.locfileid: "9577758"
---
تعرض هذه الوحدة سيناريوهات الأداء عند ترحيل البيانات.


## <a name="optimize-data-migration-performance-by-using-correct-data-entity-and-configuration"></a>تحسين أداء ترحيل البيانات باستخدام كيان البيانات وتكوينها الصحيحين

يستغرق تحميل كميات كبيرة من البيانات باستخدام إطار عمل إدارة البيانات وقتاً أطول من وقت الترحيل الكلي المحدد. يمكنك ترحيل البيانات خلال نافذة الترحيل الكلي المحددة فقط.

### <a name="patterns"></a>الأنماط
تتمثل إحدى طرق تحسين ترحيل البيانات في استخدام الكيانات الصحيحة للترحيل. يجب استخدام الكيانات ذات مصادر البيانات الصغيرة بحيث تكون أخف بشكل كبير.

بالنسبة للبيانات الرئيسية ذات الحجم الكبير، يجب استخدام الكيانات التي تدعم تعدد مؤشرات الترابط. يبدو أن الكيان **CustomersV3** هو الكيان الأكثر استخداماً، لكنه لا يدعم تعدد مؤشرات الترابط. البدائل الخاصة بكيان **customersV3** هي **‏‫تعريف العميل** و **تفاصيل العميل**، والتي نوصي باستخدامها نظراً لأنها تدعم تعدد مؤشرات الترابط.

قد يوجد أكثر من هذين المثالين للكيانين في التنفيذ الذي قد تحتاج إلى تحديد الكيان الصحيح له.
- تقييم كيان البيانات المخصص أو القياسي المناسب:
    - يحتوي **CustomersV3** على 28 مصدراً للبيانات، بينما يحتوي **المنتج الذي تم إصداره V2‬** على 40 مصدراً للبيانات.
    - استخدم الكيانات التي تدعم تعدد مؤشرات الترابط، مثل **تعريف العميل** (CustCustomerBase) و **تفاصيل العميل** (CustCustomerDetailsV2).
- قم بتعطيل تعقب التغييرات لترحيل البيانات.
- استخدم الاستيراد المجمع من خلال تمكين المعالجة المستندة إلى مجموعة (لا تدعم جميع الكيانات المعالجة المستندة إلى مجموعة).
- راجع نظام ترحيل البيانات وتكوينات الكيانات.
- راجع التغييرات القادمة. تستمر المناقشات الهندسية للتمييز بين كيانات بيانات التكامل وتلك الخاصة بترحيل البيانات والحد من عدد مصادر البيانات في كل كيان.

### <a name="anti-patterns"></a>الأنماط المضادة
تجنب ‏‫الأنماط المضادة التالية عند تحسين أداء ترحيل البيانات باستخدام كيان البيانات وتكوينها الصحيحين:

- تمكين تعقب التغييرات
- استخدام كيان بيانات المجموعة المركبة
- تشغيل عمليات التحقق من صحة الأعمال X++
- استخدام SQL لترحيل البيانات (لن يكون لديك وصول SQL؛ نموذج البيانات طبيعي ومعقد)

## <a name="optimize-data-migration-performance-through-bundling-and-iterative-performance-testing"></a>تحسين أداء ترحيل البيانات من خلال التجميع واختبار الأداء التكراري
يُعد تحميل كمية كبيرة من البيانات في وضع الدُفعة (**الاستيراد في وضع الدُفعة‬**) مضيعة للوقت لأنه يقوم بالاستيراد غير المتزامن (**الاستيراد الآن**). لا يمكن للعمل إكمال تحميل البيانات ضمن الوقت المحدد للترحيل الكلي.

### <a name="patterns"></a>الأنماط
استخدم الأساليب التالية عند تحسين أداء ترحيل البيانات من خلال التجميع واختبار الأداء التكراري:

- استخدم **الاستيراد في وضع الدُفعة** للاستفادة من إمكانات تعدد مؤشرات الترابط.
- استخدم **‬‏‫عدد سجلات حد الاستيراد** و **‏‫عدد مهام الاستيراد‬** لاستخدام ‏‫حزم الدفعات.
- حدد القيمة المناسبة لمؤشرات الترابط، وعدد سجلات الحد، وعدد مهام الاستيراد، وما إلى ذلك، استناداً إلى حجم البيانات وعدد مؤشرات الترابط الدفعية المتوفرة.
- اجمع وقارن المعلومات المتعلقة بكل اختبار لأن اختبار أداء ترحيل البيانات هو عملية تكرارية. سيساعدك هذا النهج على تحديد التكوين الأمثل لكيان معين.
- تأكد من تجربة ترحيل البيانات، وتأكد من أنها تعمل، ثم كرر العملية حتى يتم تحسينها.

### <a name="anti-patterns"></a>الأنماط المضادة
تجنب الأنماط المضادة التالية عند تحسين أداء ترحيل البيانات من خلال التجميع واختبار الأداء التكراري:

- استيراد البيانات الكبيرة بشكل تفاعلي
- البدء بدون خطة لاختبار أداء ترحيل البيانات وضبطه
- استخدام الإنتاج لاختبار ترحيل البيانات
- تخطيط ترحيل بيانات التكرار الفردي

## <a name="warm-up"></a>التجهيز 
يتباطأ تحميل البيانات بعد استيراد كمية كبيرة من البيانات إلى المجموعة الأولية من الكيانات القانونية. يستمر الأداء في التدهور لنفس كيان البيانات لعمليات تحميل البيانات اللاحقة في الكيانات القانونية الأخرى. 

### <a name="patterns"></a>الأنماط 
استخدم الأساليب التالية عند تجهيز النظام لأحمال البيانات اللاحقة في الكيانات القانونية الأخرى:

- خطط لتنظيف السجل باستخدام التنظيف المرحلي، المتوفر في مساحة عمل إدارة البيانات.
- راجع عدد السجلات في الملفات وتحقق مما إذا كانت الملفات الأصغر حجماً ستحسن الأداء العام من خلال السماح لـ SQL بتحديد خطة استعلام جديدة.
- قم بتحديث الإحصاءات، والتي يمكنك إكمالها من Microsoft Dynamics Lifecycle Services.

### <a name="anti-patterns"></a>الأنماط المضادة
تجنب الأنماط المضادة التالية عند تجهيز النظام لعمليات تحميل البيانات التالية في الكيانات القانونية الأخرى:

- عدم وجود مراجعة لبيانات تتبع الاستخدام للأداء، مثل الفهارس وخطط الاستعلام وغير ذلك المزيد
- استخدام بيئة من المستوى 1 لترحيل البيانات، لأن:
    - سيتم تجريد رسائل البريد الإلكتروني لجهات الاتصال وأكثر من ذلك.
    - تحتوي البيئة المستضافة على السحابة على حد Lifecycle Services بسعة 75 غيغابايت لنقل قاعدة البيانات. تدعم مكتبة أصول Lifecycle Services ملف bacpac/bkp بسعة 14.3 غيغابايت كحد أقصى.


## <a name="optimize-the-number-sequence-approach"></a>تحسين نهج التسلسل الرقمي
يقوم العميل باستيراد كمية كبيرة بشكل استثنائي من أرصدة دفتر اليومية. يتم تعريف اسم دفتر اليومية على أنه **فيما يتعلق بالرصيد** حيث يتم تعيين رقم إيصال جديد كلما تمت موازنة الإيصال.

لمزيد من المعلومات، راجع [استيراد الإيصالات باستخدام كيان دفتر اليومية العام](/dynamics365/fin-ops-core/dev-itpro/data-entities/tips-tricks-import-general-journal-entity/?azure-portal=true). استخدم إعداد **المعالجة المستندة إلى المجموعة**؛ يستخدم كيان دفتر اليومية العام **المعالجة المستندة إلى المجموعة** بشكل افتراضي. تأكد من تشغيل هذا الخيار.

خذ بعين الاعتبار العوامل التالية لهذا السيناريو: 

- يستخدم كيان **دفتر اليومية العام** إعداد **المعالجة المستندة إلى المجموعة**. عند استخدام هذا الإعداد على كيان دفتر اليومية العام، ستحتاج إلى توفير رقم الإيصال في الملف المستورد. يتم تعيين رقم الإيصال المتوفر في الملف المستورد لكل معاملة في دفتر اليومية العام، حتى إذا لم يكن الإيصال متوازناً. 
- باستخدام المعالجة المستندة إلى مجموعة، إذا كنت تريد استخدام أرقام الإيصالات من النظام واسم دفتر اليومية المستخدم للاستيراد، فقم بتعيين الخيار **توزيع الرقم عند الترحيل** على **نعم**.
- في حالة عدم استخدام إعداد **‏‫المعالجة المستندة إلى مجموعة**، لا يلزم توفير رقم إيصال في الملف الذي تم استيراده. يتم إنشاء أرقام الإيصالات أثناء الاستيراد استناداً إلى إعداد اسم دفتر اليومية (**إيصال واحد فقط، فيما يتعلق بالرصيد**، وما إلى ذلك). على سبيل المثال، إذا تم تعريف اسم دفتر اليومية على أنه **فيما يتعلق بالرصيد**، فسيحصل السطر الأول على رقم إيصال افتراضي جديد. وبعد ذلك، سيقوم النظام بتقييم السطر لتحديد ما إذا كانت قيمة الديون تساوي الأرصدة. في حالة وجود حساب مقابل في السطر، سيحصل السطر التالي الذي تم استيراده على رقم إيصال جديد. في حاله عدم وجود حساب مقابل، سيقوم النظام بتقييم ما إذا كانت قيمة الديون مساوية للأرصدة عند استيراد كل سطر جديد.
- إعداد **الإنشاء التلقائي** لحقل **رقم الإيصال** غير مدعوم.

### <a name="patterns"></a>الأنماط
استخدم أفضل الممارسات التالية عند تحسين نهج التسلسل الرقمي:

- تجنب منطق إحضار قيمة تسلسل رقمي عن طريق تضمين القيمة مباشرةً في ملف البيانات.
- قم بتحديث الرقم التالي في التسلسل الرقمي بعد استيراد البيانات. 
- استخدم تسلسلاً رقمياً تم تخصيصه مسبقاً إذا كان التسلسل الرقمي ضرورياً.

### <a name="anti-pattern"></a>النمط المضاد
عندما تقوم بتحسين نهج التسلسل الرقمي، لا تستخدم تسلسلاً رقمياً مستمراً ما لم يكن ذلك شرطاً قانونياً.

## <a name="keep-data-migration-separate-from-dual-write"></a>إبقاء ترحيل البيانات منفصلاً عن الكتابة المزدوجة
يستخدم العميل العديد من منتجات Dynamics 365 المختلفة. ويخطط لاستخدام البنية الأساسية للكتابة المزدوجة لدمج البيانات من Microsoft Dataverse إلى Microsoft Dynamics 365 Finance والعكس صحيح. على سبيل المثال، سيحتاج العميل إلى ترحيل بيانات **الحسابات** إلى Dataverse، وستحتاج بيانات **الحسابات** نفسها إلى نقلها كبيانات **عملاء** إلى Dynamics 365 Finance عند بدء التشغيل.

### <a name="patterns"></a>الأنماط
خذ بعين الاعتبار المعلومات التالية عند إبقاء ترحيل البيانات منفصلاً عن الكتابة المزدوجة‬:

- تم تصميم البنية التحتية للكتابة المزدوجة لدمج البيانات في الوقت الفعلي تقريبا بين Dataverse وتطبيقات التمويل والعمليات.
- يمكنك استخدام الكتابة الأولية/المزامنة الأولية لمزامنة الإعداد الخاص بمستوى الصوت المنخفض والبيانات المرجعية فقط.
- لا تُعد الكتابة الأولية/المزامنة الأولية بديلاً لترحيل البيانات الرئيسية أو بيانات المعاملات كبيرة الحجم.
- تستخدم البنية الأساسية للكتابة المزدوجة تكامل OData من خلال كيانات البيانات في تطبيقات التمويل والعمليات. إنها غير مناسبة لسيناريوهات ترحيل البيانات حيث يلزم استيراد البيانات المجمعة.
- يمكنك ترحيل البيانات الرئيسية أو بيانات المعاملات بشكل منفصل في Dataverse وتطبيقات التمويل والعمليات قبل تمكين الكتابة المزدوجة.

### <a name="anti-patterns"></a>الأنماط المضادة
تجنب الأنماط المضادة التالية عند إبقاء ترحيل البيانات منفصلاً عن الكتابة المزدوجة:

- استخدام OData لترحيل البيانات
- استخدام Dataverse/الكتابة المزدوجة كنظام أساسي لترحيل البيانات 
- ممارسة أساليب الاعتماد المزدوجة غير الصالحة (إذا كان بإمكانك إنشاء بيانات على كلا الجانبين، فاستخدم تسلسلات رقمية مختلفة)

## <a name="use-the-recurring-integrations-scheduler-ris-for-automating-data-movement"></a>استخدم Recurring Integrations Scheduler ‏(RIS) لأتمتة حركة البيانات 
يحتوي العمل على عدد كبير من الكيانات القانونية (على سبيل المثال، أكثر من 50 كياناً) في Dynamics 365. أنشأ العميل مجلدات متعددة (على سبيل المثال، أكثر من 50) لكل كيان قانوني (محلي). يستخرج العميل البيانات من التطبيق القديم ثم ينشئ ملفاً واحداً لكل كيان بيانات، لكل كيان قانوني. بعد ذلك، يضع ملف البيانات في مجلد كيان قانوني مطابق له. فكر العميل في إنشاء مشروع بيانات وتحديد ملف البيانات يدوياً لكل كيان قانوني، ولكنها عملية شاقة وعرضة للخطأ.

### <a name="patterns"></a>الأنماط 
اتبع أفضل الممارسات التالية عند استخدام Recurring Integrations Scheduler ‏(RIS) لتنفيذ تحريك البيانات تلقائياً:

- قم بإعداد مجلدات الإدخال لكل كيان قانوني.
- استخدم مشاريع البيانات أو خيار قالب الحزمة داخل RIS لإنشاء حزم بيانات (ملف مضغوط) مع البيانات وبيانات التعريف.
- قم بإعداد مهمة متكررة في RIS وإدارة تكوين RIS (استيراد/تصدير).
- قم بإلقاء نظرة على وظيفة **أتمتة مهام البيانات**، بدلاً من ذلك.

### <a name="anti-pattern"></a>النمط المضاد
عند استخدام Recurring Integrations Scheduler ‏(RIS) لأتمتة حركة البيانات، لا تقم بتطوير تعليمات X++ البرمجية لإدارة الملفات.

## <a name="follow-performance-due-diligence-in-the-environment"></a>اتباع العناية الواجبة للأداء في البيئة
يواجه العميل مشكلات في الأداء أثناء عمليات استيراد البيانات وتصديرها إلى تطبيقات التمويل والعمليات. 

### <a name="patterns"></a>الأنماط
استخدم أفضل الممارسات التالية عند اتباع العناية الواجبة للأداء في البيئة:

- قم بتعطيل مزامنة Dataverse أثناء عمليات استيراد البيانات.
- تأكد من أن عمليات الاستيراد/التصدير المتكررة [محدودة](/dynamics365/human-resources/hr-admin-troubleshooting-batch-jobs/?azure-portal=true). يمكن أن يؤثر وجود معدل تكرار مرتفع في أداء النظام.
- تأكد من [تنظيف سجل الدفعة بانتظام](/dynamics365/fin-ops-core/dev-itpro/sysadmin/cleanuproutines/?azure-portal=true).
- استخدم الكيانات الأساسية في النظام، حيثما أمكن، للحصول على أفضل أداء.
- قم بتعطيل توزيع بيانات دفع المهام إلى قاعدة بيانات مخزن الكيانات (AXDW) وإحضار مهام قاعدة بياناتك (BYOD) الخاصة أثناء إجراء عمليات استيراد كبيرة.
- تأكد من أن المهام الدفعية متباعدة بما يكفي لإتاحة الوقت للانتهاء قبل بدء المهمة التالية في قائمة الانتظار.
- تأكد من أن مهام الاستيراد/التصدير لا تتضمن كيانات V1 وV2 لجدول النظام نفسه. إذا تضمنت مهمة دفعية استيراداً لكليهما، فيمكن وضع ضغط إضافي/غير ضروري على الجداول. 
- حدد التوقعات مع المستخدمين بأن النظام لا ينبغي أن يكون قيد الاستخدام أو توقع أداءً منخفضاً عند حدوث عمليات استيراد كبيرة بسبب الحمل على قاعدة بيانات المعاملات.
- استخدم عمليات التصدير المتزايدة بدلاً من عمليات التصدير الكاملة حيثما أمكن ذلك.
- قم بتعطيل الأتمتة الخارجية، مثل Microsoft Power Automate، والتطبيقات المنطقية من Microsoft، وما إلى ذلك، أثناء الاستيراد ما لم يكن التشغيل التلقائي مطلوباً بشكل صريح.

### <a name="anti-patterns"></a>الأنماط المضادة
تجنب هذه الأنماط المضادة عند اتباع العناية الواجبة للأداء في البيئة:

- تعيين معدل تكرار عالٍ على عمليات الاستيراد والتصدير
- تضمين كيانات V1 وV2 لجدول النظام نفسه
- استخدام عمليات التصدير الكاملة لكافة الكيانات


