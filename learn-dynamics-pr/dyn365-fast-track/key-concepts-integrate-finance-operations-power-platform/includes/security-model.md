---
ms.openlocfilehash: 325e959f8bcfad9dcb4b726f682fb5dc9fb6f67e
ms.sourcegitcommit: 57280be436b54e2a16d9ec60b653628c9c0051be
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 04/26/2022
ms.locfileid: "8633626"
---
ويكون سبب وصف مفهوم الشركة والأمان في وقت واحد هو أنه يتم دمجهما في تطبيقات التمويل والعمليات. على الرغم من أن Dataverse لديه فصل أكبر، عند الاتصال بهذه المكونات من خلال الكتابة المزدوجة، يجب مراعاة كل منهما. تعرض الصورة التالية تفصيلاً لأدوار تطبيقات التمويل والعمليات والامتيازات والأذونات، كما تعرض فرع ملكية Dataverse للكيانات والإجراءات. 

[![صورة تظهر فرع ملكية Dataverse للكيانات والإجراءات.](../media/security-model.png)](../media/security-model.png#lightbox)

تحتوي تطبيقات Dataverse وتطبيقات التمويل والعمليات على نموذج التمويل والعمليات. بشكل أساسي، يكون للمستخدم أدوار أمان، ويمنح كل دور أمان هذا المستخدم العديد من الامتيازات. 

يختلف نموذج الأمان في كليهما في عدد قليل من المجالات. في Dataverse، تعطي الامتيازات للمستخدم القدرة على عرض Dataverse للكيانات والإجراءات، ستقوم الملكية بحماية البيانات. وعلى العكس من ذلك، في تطبيقات التمويل والعمليات، تتيح الامتيازات الوصول إلى نقاط النهاية؛ إذا كان لدى المستخدم حق الوصول إلى نموذج، فسيكون لديه حق الوصول إلى مصدر البيانات والجدول الأساسيين. في Dataverse، تكون الكيانات بسيطة وغير طبيعية، في حين تحتوي تطبيقات التمويل والعمليات على عشرات الجداول، وهي بيئة طبيعية بشكل كبير. هذه العوامل تجعل من الصعب تحديد الوصول إلى الجدول الأساسي بدلاً من الوصول إلى نقطة النهاية أو النموذج المحدد. 

ومع ذلك، فإن كلاهما لهما أمن مماثل فيما يتعلق بالكيانات. يمكن أن تتيح تطبيقات التمويل والعمليات الوصول إلى كيان، مما يتيح الوصول إلى الجداول الأساسية لهذا الكيان. لذلك، فإن الكيانات التي يتم عرضها من خلال الكتابة المزدوجة مفيدة لأنه يمكنك استخدام مفاهيم الأمان نفسها للبيانات الأساسية. 

## <a name="dual-write-security"></a>أمان الكتابة المزدوجة

يعمل أمان الكتابة المزدوجة عبر مكالمة خدمة إلى خدمة، ولا يحتاج المستخدم إلى التواجد في كلا النظامين للوصول إلى البيانات وإجراء المكالمات. إذا تدفقت البيانات من تطبيقات التمويل والعمليات وتمت كتابتها إلى Dataverse، فسيكون السجل مملوكاً لفريق الكتابة المزدوجة الافتراضي لوحدة الأعمال. إذا تدفقت البيانات من Dataverse وتمت كتابتها إلى تطبيقات التمويل والعمليات، سيتم تحديد نطاق السجل حسب مفهوم منطقة البيانات، وسيستند الأمان إلى الكيان القانوني.

## <a name="virtual-entity-security"></a>أمان الكيان الافتراضي

يختلف الأمان داخل الكيانات الافتراضية عن الكتابة المزدوجة وذلك لأن الكيانات الافتراضية تحاول حل مشكلة مختلفة. تسمح الكيانات الافتراضية لتقنيات Microsoft Power Platform وتلك التي تستخدم Dataverse في الأساس بالوصول إلى مجموعة متنوعة من البيانات من تطبيقات التمويل والعمليات دون تسجيل الدخول إلى النظام المنفصل. بالنسبة إلى هذه البنية، ستحتاج إلى مستخدم فردي لقراءة السجلات وعرضها خارج تطبيقات التمويل والعمليات في سياق امتيازاته. نظراً لأن هذه العملية لا تتضمن نسخ البيانات بين نظامين، مثل الكتابة المزدوجة، فستحتاج إلى الاحتفاظ بالمستخدم وأمانه في السياق لعرض السجلات والبيانات. 

بالنسبة لهذا الترتيب، بالنسبة للكيانات الافتراضية، ستنتحل صفة مستخدم Dataverse في تطبيقات التمويل والعمليات عند إجراء مكالمة كيان افتراضي. يتم إجراء مكالمة خدمة إلى خدمة في الخلفية لانتحال صفة المستخدم والحصول على سياق المستخدم الأصلي لمن قام بإنشاء المكالمة. في تطبيقات التمويل والعمليات، ستقوم بإكمال عملية "التشغيل كـ‬" لانتحال صفة المستخدم. يرتبط كل ما يفعله المستخدم بامتيازاته، لذلك يجب أن يكون لديه حق الوصول الصحيح إلى تطبيقات التمويل والعمليات. بشكل أساسي، يجب أن يكون المستخدم في Dataverse الذي يجري المكالمة موجودا كمستخدم في تطبيقات التمويل والعمليات مرخصاً ولديه الأمان الصحيح للبيانات التي يحاول الوصول إليها. 

تحتوي الكيانات الافتراضية على ثلاثة أنواع من الأنماط للمصادقة والوصول:

- **يقوم المستخدم بالوصول إلى بيانات تطبيقات التمويل والعمليات** - بالنسبة لهذا النمط، ستقوم بتمرير معرّف المستخدم والكائن إلى تطبيقات التمويل والعمليات، حيث يجب أن يكون المستخدم موجوداً ويتمتع بامتيازات للوصول إلى البيانات التي يحتاجها.

- **الوصول إلى المدخل‬ (مجهول الهوية ومصادق عليه)** 

    - **الوصول المجهول الهوية إلى المدخل** – بالنسبة لهذا النمط، ستقوم بتعيين وصول المدخل المجهول الهوية في ناحية **معلمات النظام** في تطبيقات التمويل والعمليات. يتحكم المستخدم الذي تم إنشاؤه وتعيينه في المدخل المجهول الهوية في الوصول إلى المدخل من خلال معلمات النظام. ستكون البيانات المتاحة لهذا المستخدم، والوصول الذي يتمتع به المستخدم، هي ما سيحصل المستخدمون المجهولون على إذن للوصول إليه من خلال المدخل.

        > [!div class="mx-imgBorder"]
        > [![صورة تعرض معلمات النظام ومداخل Power Apps.](../media/anonymous-portal-access.png)](../media/anonymous-portal-access.png#lightbox)


    - **الوصول إلى البوابة الإلكترونية المصادق عليها** – بالنسبة لهذا النمط، ستستخدم ميزة **مداخل Power Apps** في معلمات النظام لإنشاء وصول إلى جانب سجل جهات اتصال في Dataverse. سوف يتحكم هذا السجل في Dataverse في ما يمكن لجهة الاتصال الوصول إليه. لن يتم توفير أي وصول إلى سجل جهات الاتصال هذا من Dataverse، لذلك سيقوم كيان تعيينات مستخدم البوابة الإلكترونية الخارجي بحفظ الإعدادات الخاصة بجهة الاتصال هذه وسيقوم بالتعيين إلى مستخدم في تطبيقات التمويل والعمليات. يمكن أن يكون كل مستخدم منفصلاً، أو يمكنك إنشاء مستخدم واحد لإدارة جميع الاتصالات من Dataverse. 

        > [!div class="mx-imgBorder"]
        > [![لقطة شاشة تعرض سجل الوصول الذي تم إنشاؤه في مدخل Power Apps.](../media/authenticated-portal-access.png)](../media/authenticated-portal-access.png#lightbox)


- **وصول خدمة إلى خدمة كمستخدم تطبيق** - بالنسبة لهذا النمط، يتم إنشاء معرّف Microsoft Azure Active Directory (Azure AD) ويتم تعيينه إلى مستخدم داخل تطبيقات التمويل والعمليات. إذا قام مستخدم التطبيق في Dataverse بتشغيل المكالمة من خلال الكيانات الافتراضية، ستقوم الخدمة بالبحث عن المعرّف الأصلي Azure AD وتحديد معرّف المستخدم الذي يجب أن يتم تشغيل المكالمة به داخل تطبيقات التمويل والعمليات. إذا لم يتم إعداد معرّف خدمة إلى خدمة صريح في تطبيقات التمويل والعمليات، فسيحدث خطأ في رفض الوصول.

 
