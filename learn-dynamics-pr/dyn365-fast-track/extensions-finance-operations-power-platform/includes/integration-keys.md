---
ms.openlocfilehash: 58f42f8b5e31902e50953cf0d58cb8425caa3025
ms.sourcegitcommit: 15d65295c1240630d69e5e451d1d01f3337489a8
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 06/02/2022
ms.locfileid: "8840192"
---
قبل فحص المزيد من المكونات التقنية الخاصة بالكتابة المزدوجة، ستحتاج إلى معرفة كيفية عمل عمليات التكامل بالاستناد إلى **مفاتيح التكامل**، وهي عبارة عن مفهوم رئيسي يُستخدم في تكامل البيانات بين Dataverse وتطبيقات التمويل والعمليات. 

إن Dataverse وتطبيقات التمويل والعمليات عبارة عن نظامين أساسيين منفصلين، لكل واحد منهما سلوكيات ودورات عمل فريدة خاصة به. عندما تريد إجراء تكامل بين نظامين أساسيين مختلفين، مثل تطبيقات التمويل والعمليات وDataverse، ستحتاج إلى التأكد من وجود المعلومات والسجلات المعرّفة بشكل فريد على أي من الجانبين. إن أبسط طريقة لتعريف البيانات بشكل فريد في صف عبر الأنظمة الأساسية هي استخدام **المفاتيح الطبيعية**، التي تحتوي على معلومات سياق العمل. تُسهل المفاتيح الطبيعية تحديد البيانات في Dataverse وتطبيقات التمويل والعمليات. 

تستخدم الكتابة المزدوجة مفاتيح التكامل للاتصال بكل جانب من جوانب التكامل. بدون هذا المفتاح، لن يعرف أي تكامل ما إذا كان يلزم إجراء عملية إنشاء أو تحديث أو حذف مع البيانات. مفاتيح التكامل هي المفاتيح الطبيعية التي تعرّف الصفوف عبر النظامين الأساسيين بشكل فريد، ويجب أن تتطابق بينهما. يتم تعريف مفاتيح التكامل هذه في مجموعة الاتصال وهي ليست على دراية بالحل أو تقنية التكامل. إذا تم استخدام **مفتاح بديل** باعتباره مفتاح تكامل، فسيتم عندئذٍ نقله مع حزمة الحل. المفاتيح البديلة ثابتة لكل اتصال ويجب ألا تتغير لكل اتصال بين مفاتيح التكامل في أي من النظامين. في تطبيقات التمويل والعمليات، مفتاح الكيان هو مفتاح التكامل لهذا النظام، ويجب أن يتطابق مع المفتاح البديل في Dataverse. 

تستند التوصيات التالية إلى الأنماط التي تمت مشاهدتها لمفاتيح التكامل: 

- يجب عليك دائماً إنشاء مفاتيح بديلة في Dataverse. تأكد من وضع علامة على هذه المفاتيح باعتبارها **إلزامية** بسبب إمكانية وجود مفاتيح بديلة متعددة. على سبيل المثال، إذا حدث تحديث للمخطط، فستحتاج إلى إعادة تعريف مجموعة الاتصال أو تحديثها، وتحديداً إذا تم تخصيص المفاتيح البديلة ومفاتيح التكامل لدورة عمل معينة أو منطق أعمال معين. 
- بإمكان الاختلافات الرئيسية بين تطبيقات التمويل والعمليات وDataverse أن تؤدي إلى حدوث حالات عدم تناسق بين البيانات، وتحديداً مع الكيانات المخصصة بدلاً من الكيانات الجاهزة. يجب دائماً فحص مفاتيح التكامل هذه عن كثب للتأكد من صحتها. 
- تحتوي تطبيقات التمويل والعمليات على كيانات لديها وقت وتاريخ سريان، في حين لا ينطبق هذا الأمر في Dataverse. تأخذ الكتابة المزدوجة السجل الأخير الصالح وتقوم بمزامنة هذه المعلومات. نظراً لعدم توافر سجلات التاريخ والوقت والإغلاق التلقائي لسجل منصرم في Dataverse، فقد تواجه حالة عدم تناسق بسيط في السجلات الجاهزة. احرص على مراقبة هذه المعلومات عند الحاجة لأغراض تتعلق بالتدقيق. 

لمزيد من المعلومات ، راجع [الأسئلة المتداولة حول الكتابة المزدوجة - ما غرض مفتاح التكامل](/dynamics365/fin-ops-core/dev-itpro/data-entities/dual-write/dual-write-faq/?azure-portal=true). 
