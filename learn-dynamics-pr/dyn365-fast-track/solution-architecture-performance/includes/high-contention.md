---
ms.openlocfilehash: ae16b5a0996cd475ebbb2d7b380ac5de8bcfdb0f
ms.sourcegitcommit: 20c987e5ad19236137f3bdbaaae524d0864711b2
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 09/01/2022
ms.locfileid: "9393353"
---
يحتاج العميل إلَى جدولة وتشغيل عدة وظائف دفعية (قياسية ومخصصة). تحتاج الوظائف المجمّعة إلَى معالجة آلاف السجلات. يلاحظ العميل تنافسًا كبيرًا فِي قاعدة البيانات عَلى الجداول المرتبطة بإطار عمل الدُفعات أثناء تشغيل العملية. ونتيجة لذلك، فقد واجهوا أوقات تشغيل بطيئة، وتوقفت الوظائف الدفعية عن العمل لفترة طويلة. 

## <a name="pattern---reduce-high-contention-on-batch"></a>نمط - تقليل التنازع الكبير عَلى الدُفعة

ضع فِي اعتبارك الأنماط التالية (أفضل الممارسات) عند تقليل التنافس الكبير عَلى الدُفعة:
- تأكد من تمكين الميزة **تقليل تنازع الدُفعات**. (يتم تمكين هذه الميزة افتراضيًا من 10.0.0.23/PU47 فصاعدًا).
- ابدأ استخدام [جدولة الدُفعات عَلى أساس الأولوية](/dynamics365/fin-ops-core/dev-itpro/sysadmin/priority-based-batch-scheduling/?azure-portal=true).
- قم بإنشاء جدول زمني دائم للحصول عَلى نظرة عامة حول وقت تشغيل العمليات (الدُفعات) الثقيلة ومدتها. قم بتعديل الجدول الزمني لتقليل الخلاف، ثم أكمل المهام التالية: 
    1. حدد مجموعات دفعية مختلفة وقم بتعيين الأولوية ذات الصلة لكل مجموعة دفعية.
    2. انتقل إلَى **إدارة النظام > الإعداد > المجموعة الدفعية**. 
   
        تأكد من حجز المجموعات الدفعية الفارغة للوظائف الدفعية للنظام فقط.
    3. قم بتعيين كل وظيفة دُفعات لمجموعة دفعية مناسبة.
- ضبط الحد الأقصى من سلاسل الدُفعات (الحد الأقصى للجلسات) لزيادة استخدام كل خادم AOS. 
    1. انتقل إلَى **إدارة النظام > الإعداد > تكوين الخادم**.
    2. اختبار الحد الأقصى من سلاسل الدُفعات المحسّنة فِي بيئة وضع الحماية للأداء. 

## <a name="anti-patterns"></a>الأنماط المضادة

ضع فِي اعتبارك الأنماط المضادة (المزالق) التالية عند تقليل التنافس الكبير عَلى الدُفعة:
- قم بجدولة الوظائف الدفعية دون مراجعة التأثير المحتمل الذي قد تحدثه الوظائف الدفعية المتداخلة عَلى النظام.
- لا تقم بضبط إطار عمل الدُفعات (عدد محتويات المنشور والميزات).
