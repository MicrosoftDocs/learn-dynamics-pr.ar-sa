---
ms.openlocfilehash: 7bcb9f6af6f10092b27d4663a4d32024bf9c6b54
ms.sourcegitcommit: 8773c31cceaa4d9a36c62c964a2b414c6e0656f3
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 08/13/2021
ms.locfileid: "7457430"
---
يستخدم Microsoft Dataverse من Microsoft OAuth 2.0 كمعيار تخويل خاص به. يوفر OAuth آلية متوافقة مع معايير الصناعة لمصادقة تطبيقات العميل على أحد الموارد.

## <a name="authentication-vs-authorization"></a>المصادقة مقابل التخويل

**المصادقة** هي عملية أو إجراء التحقق من هوية مستخدم أو عملية. حل Microsoft لعملية التحقق هذه هو Azure Active Directory (Azure AD). يدعم Azure AD عدداً من الخيارات للتحقق من هوية المستخدم أو العملية. يسمح تجريد موفر الهوية الخاص بك بالفصل الجيد للمخاوف لأن إدارة أسماء المستخدمين وكلمات المرور يمكن أن تكون عملية صعبة (ومحفوفة بالمخاطر).

**التخويل** هو عملية أو إجراء للتحقق مما إذا كان المستخدم *المصادق عليه* *مخولا* بالوصول إلى الموارد التي يتم توفيرها. في الوقت الحالي، يكون التخويل لـ Dataverse على مستوى المستأجر، ويتم تفويض الأذونات للتطبيق بناءً على المستخدم الحالي الذي قام بتسجيل الدخول. لذلك، لن تستخدم OAuth للتحكم في الأمان على مستوى التطبيق، والذي يتم التعامل معه بدلاً من ذلك عن طريق مركز إدارة Power Apps.

إذا كنت تريد معرفة المزيد حول مفاهيم المصادقة والتخويل، فانتقل إلى قسم Azure Active Directory في Microsoft Docs: [أساسيات المصادقة](/azure/active-directory/develop/authentication-scenarios/?azure-portal=true).

## <a name="register-dataverse-apps-with-azure-ad"></a>تسجيل التطبيقات Dataverse باستخدام Azure AD

للاتصال بنجاح بـ Dataverse، يجب أولاً تسجيل أحد التطبيقات باستخدام Azure Active Directory، والذي يمكن إكماله في [مدخل Azure](https://portal.azure.com/?azure-portal=true). اعتماداً على نوع التطبيق الذي تريد إنشاءه، تتوفر بعض الإعدادات المختلفة لتكوينها (تطبيقات الويب مقابل التطبيقات الأصلية المثبتة أصلاً على الجهاز). لمزيد من المعلومات حول الإعدادات المطلوبة لكل نوع من هذه الأنواع، راجع [أنواع تسجيل التطبيق](/powerapps/developer/common-data-service/authenticate-oauth?azure-portal=true).

لتسجيل تطبيق مع Azure AD، يمكنك الانتقال إلى قسم **تسجيلات التطبيق** في قائمة خيارات Azure Active Directory ثم تحديد **تسجيل جديد**.

![لقطة شاشة لقسم تسجيلات التطبيق في قائمة Azure Active Directory والتسجيل الجديد محدد.](../media/unit-2-1.png)

حدد اسم التطبيق الخاص بك ونوع الوصول إلى الحساب الذي تحتاجه. إذا كنت تقوم بتسجيل تطبيق ويب، فحدد عنوان URI لإعادة التوجيه بالانتقال إلى قسم **المصادقة**، وتعيين النوع إلى **ويب**، ثم إدخال عنوان URI لإعادة التوجيه.   

![لقطة شاشة لاسم العرض الذي يواجه المستخدم ونوع الحساب وإعادة التوجيه U R L.](../media/unit-2-2.png)

تلخص القائمة التالية وقت استخدام أنواع الحسابات المختلفة:

- **الحسابات في هذا الدليل التنظيمي فقط (مستأجر واحد)**

    يمكن لجميع حسابات المستخدمين والضيوف في دليلك استخدام التطبيق أو API الخاص بك.

    *استخدم هذا الخيار إذا كان الجمهور المستهدف من داخل مؤسستك.*

- **الحسابات الموجودة في أي دليل تنظيمي (أي دليل Azure AD - تعدد المؤسسات)**

    يمكن لجميع المستخدمين الذين لديهم حساب عمل أو مدرسة من Microsoft استخدام التطبيق أو API الخاص بك، بما في ذلك المدارس والشركات التي تستخدم Microsoft 365.

    *استخدم هذا الخيار إذا كان جمهورك المستهدف عملاء أعمال تجارية أو تعليمية ولتمكين تشغيل متعدد لمثيل برنامج.*

- **الحسابات الموجودة في أي دليل تنظيمي (أي دليل Azure AD - تعدد المؤسسات) وحسابات Microsoft الشخصية (علي سبيل المثال، Skype وXbox)**

    يمكن لجميع المستخدمين الذين لديهم حساب عمل أو مدرسة أو حساب Microsoft شخصي استخدام التطبيق أو API الخاص بك. يتضمن المدارس والشركات التي تستخدم Microsoft 365 والحسابات الشخصية التي يتم استخدامها لتسجيل الدخول إلى خدمات مثل Xbox وSkype.

علي سبيل المثال، تم إدخال ```https://callbackurl``` **عنوان URI لإعادة التوجيه** نظراً لأنك ستقوم بالوصول إلى Postman في درس لاحق، وهو عبارة عن تطبيق عام. لاحظ عنوان URL هذا لأنك ستحتاج إليه للاتصال بـ Dataverse بنجاح.  

اعتماداً على مدى تعقيد إعداد التطبيق الخاص بك، قد ترغب في تكوين إعدادات المصادقة الأخرى. راجع وثائق Azure Active Directory للحصول على خطوات حول كيفية إكمال هذه المهمة.

ستحتاج أيضاً إلى تعيين بعض العلامات على **true** في بيان التطبيق للسماح بالوصول من Postman والتطبيقات الخارجية الأخرى. يتم منح هذا الوصول فقط لأغراض العرض التوضيحي فقط. نوصي بقراءة وثائق بيان تطبيق [Azure Active Directory](/azure/active-directory/develop/reference-app-manifest/?azure-portal=true) لفهم الآثار المترتبة على هذه العلامات بشكل كامل.

![لقطة شاشة لتطبيق M S Learn Sample - تم تعيين علامات البيان على "صواب".](../media/unit2-image3.png)

بعد ذلك، انتقل إلى علامة التبويب **أذونات API** وتأكد من منح تطبيقك وصول انتحال هوية المستخدم إلى بيئة Dataverse.

![لقطة شاشة لعلامة تبويب أذونات طلب A P I.](../media/unit2-image4.png)

![لقطة شاشة لعلامة تبويب أذونات الطلب A P I مع تحديد الأذونات المفوضة وانتحال هوية المستخدم.](../media/unit2-image5.png)

يجب أن يكون لديك الآن نقطة نهاية للتطبيق يمكنها الاتصال ببيئة Dataverse الخاصة بك بنجاح.
