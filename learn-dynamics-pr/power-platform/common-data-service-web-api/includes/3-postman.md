---
ms.openlocfilehash: c7ddaab44a7069e8dac7718958aedf98255150df
ms.sourcegitcommit: 8773c31cceaa4d9a36c62c964a2b414c6e0656f3
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 08/13/2021
ms.locfileid: "7457402"
---
تعد Postman أداة قيّمة تستخدم لإنشاء استعلامات مخصصة لواجهة API للويب والتحقق من سلوك عمليات واجهة API للويب دون الحاجة إلى كتابة برنامج للقيام بذلك. إذا كنت جديدًا في استخدام أداة Postman، فراجع مقال [أول 5 أشياء تجب محاولتها إذا كنت جديدًا في استخدام أداة Postman](https://blog.getpostman.com/2018/04/11/first-5-things-to-try-if-youre-new-to-postman/?azure-portal=true) للحصول على مقدمة إلى الموضوع.

### <a name="register-an-app-in-azure-active-directory"></a>تسجيل تطبيق في Azure Active Directory

لتوصيل أداة Postman بـ Microsoft Dataverse، من الضروري أولاً التأكد من أنه لديك تطبيق مسجل في بيئة Azure AD. 

### <a name="get-the-current-version-of-your-web-api-endpoint"></a>الحصول على الإصدار الحالي من نقطة نهاية واجهة API للويب

يمكنك العثور على رقم الإصدار الخاص بنقطة نهاية واجهة API للويب بالانتقال إلى **الإعدادات المتقدمة** الخاصة بالبيئة في مدخل المنشئ.

![لقطة شاشة للإعدادات المتقدمة في مدخل المنشئ.](../media/unit3-image1.png)

من **الإعدادات المتقدمة**، انتقل إلى **إعدادات > تخصيصات** ثم انتقل إلى صفحة **موارد المطور**. ستتم الإشارة إلى رقم الإصدار ضمن منطقة واجهة API للويب المثيلة، كما هو موضح في الصورة الآتية.

![لقطة شاشة للصفحة الخاصة بموارد المطور مع الإصدار الموجود في ‏‫عنوان URL لجذر الخدمة‬.](../media/unit3-image2.png)

## <a name="set-up-postman"></a>إعداد أداة Postman

لبدء عملية الإعداد، قم بتثبيت أداة [Postman](https://www.getpostman.com/?azure-portal=true).

بعد تثبيت أداة Postman، ستستخدم ميزة يجب على Postman إدارة متغيرات البيئة حتى تتمكن من إدارة الكيانات بشكل نظيف مثل عناوين URL الخاصة بنقطة النهاية ومعرفات العملاء.

لإنشاء بيئة Postman يمكنك استخدامها للاتصال بمثيل Dataverse الخاص بك، اتبع الخطوات الآتية:

1.  تشغيل تطبيق Postman لسطح مكتب.

2.  حدد أيقونة الترس **خيارات البيئة** الموجودة أعلى الزاوية اليمنى.

3.  في مربع حوار **إدارة البيئات** ، حدد زر **إضافة** لإضافة بيئة جديدة.

    ![لقطة شاشة لمربع حوار "إدارة البيئات" مع زر "إضافة".](../media/unit3-image3.png)

4.  في مربع الحوار الذي يتم فتحه، أدخل اسمًا للبيئة ثم أضف أزواج المفتاح/القيمة التالية إلى مساحة التحرير.

| المتغير  | القيمة الأولية                                                              |
|-----------|----------------------------------------------------------------------------|
| عنوان URL       | `https://[ORGANIZATION].crm.dynamics.com`                                  |
| معرّف العميل  | \<APPID>                                                                   |
| الإصدار   | 9.1                                                                        |
| عنوان url لواجهة api للويب | `{{url}}/api/data/v{{version}}/`                                           |
| رد الاتصال  | `https://callbackurl`                                                      |
| عنون url الخاص بالتفويض   | `https://login.microsoftonline.com/common/oauth2/authorize?resource={{url}}`|


![لقطة شاشة لمربع حوار "اسم بيئة إدارة البيئات".](../media/unit3-image4.png)

5.  استبدل قيمة العنصر النائب لعنوان URL الخاص بالمثيل بعنوان URL الخاص بمثيل Dataverse ثم حدد **إضافة** لحفظ البيئة.

6.  أغلق مربع حوار **إدارة البيئات** .

### <a name="generate-an-access-token-to-use-with-your-environment"></a>إنشاء رمز مميز للوصول لاستخدامه مع البيئة الخاصة بك.

للاتصال باستخدام OAuth 2.0، يجب أن يكون لديك رمز مميز للوصول. للحصول على رمز مميز للوصول جديد، اتبع الخطوات الآتية:

1.  تأكد من تحديد البيئة الجديدة التي قمت بإنشائها.

2.  حدد علامة تبويب **التفويض** .

3.  قم بتعيين **النوع** إلى **OAuth 2.0**.

4.  تحقق من تحديد البيئة التي قمت بإنشائها.

5.  حدد **الحصول على رمز مميز للوصول جديد**.

    ![لقطة شاشة لمعلمة التفويض مع النوع OAuth 2.0 المحدد وزر "الحصول على رمز مميز للوصول جديد".](../media/unit3-image5.png)

6.  قم بتعيين القيم التالية في مربع الحوار. حدد **ضمني** من القائمة المنسدلة **نوع المنح** . يمكنك تعيين **اسم الرمز المميز** لكل ما تريده ثم اترك المفاتيح الأخرى معينة إلى القيم الافتراضية.

    ![لقطة شاشة "الحصول على رمز مميز للوصول جديد" مع تعيين القيم.](../media/unit3-image6.png)

> [!NOTE]
> إذا كنت تقوم بتكوين البيئات في Postman لمثيلات Dataverse متعددة باستخدام بيانات اعتماد مختلفة للمستخدم، فقد تحتاج إلى حذف ملفات تعريف الارتباط التي يتم تخزينها مؤقتًا بواسطة Postman. حدد رابط **ملفات تعريف الارتباط** الذي يمكن العثور عليه ضمن زر **إرسال** ، وقم بإزالة ملفات تعريف الارتباط المحفوظة من مربع حوار **إدارة ملفات تعريف الارتباط** .

![لقطة شاشة لرابط ملفات تعريف الارتباط الموجود ضمن زر "إرسال".](../media/unit3-image7.png)

تكون بعض ملفات تعريف الارتباط هذه دائمة. يمكنك حذف بعض ملفات تعريف الارتباط في مجموعات، ولكن قد يلزم حذف أخرى بشكلٍ فردي. قد تحتاج إلى إكمال هذه العملية مرتين للتأكد من عدم استمرار ملفات تعريف الارتباط.

7.  حدد **طلب الرمز المميز**. عند إجراء هذا التحديد، تظهر صفحة تسجيل الدخول إلى Azure Active Directory. أدخل اسم المستخدم وكلمة المرور.

8.  بعد إنشاء الرمز المميز، قم بالتمرير إلى أسفل وحدد **استخدام الرمز المميز**. يؤدي هذا التحديد إلى إغلاق مربع حوار **إدارة الرموز المميزة للوصول** .

9.  بعد إضافة رمز مميز، يمكنك تحديد الرمز المميز الذي تريد تطبيقه على الطلبات. في القائمة المنسدلة **الرموز المميزة المتاحة** ، حدد الرمز المميز الذي قمت بإنشائه للتو. ستتم إضافة رأس التفويض إلى طلب واجهة API للويب.

### <a name="test-your-connection"></a>اختبر اتصالك

إنشاء طلب واجهة API للويب جديد لاختبار الاتصال مع مثيل Common Data Service الخاص بك. استخدم [الدالة WhoAmI](/dynamics365/customer-engagement/web-api/whoami/?azure-portal=true) باتباع الخطوات الآتية:

1.  حدد "GET" على أنه أسلوب HTTP وقم بإضافة WhoAmI{{webapiurl}}في مساحة التحرير.

    ![حدد "GET" على أنه أسلوب HTTP وقم بإضافة WhoAmI في مساحة التحرير.](../media/unit3-image8.png)

2.  حدد **إرسال** لإرسال هذا الطلب.

في حالة نجاح طلبك، ستشاهد بيانات من [WhoAmIResponse ComplexType](/dynamics365/customer-engagement/web-api/whoamiresponse/?azure-portal=true) التي يتم إرجاعها بواسطة [الدالة WhoAmI](/dynamics365/customer-engagement/web-api/whoami/?azure-portal=true).

   ![لقطة شاشة لطلب ناجح مع بيانات تم إرجاعها.](../media/unit3-image9.png)
