---
ms.openlocfilehash: bef32d2b81867fba285d5118ba5915439155e87e
ms.sourcegitcommit: 8773c31cceaa4d9a36c62c964a2b414c6e0656f3
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 08/13/2021
ms.locfileid: "7457461"
---
بينما قد يكون تطوير البرامج النصية للعميل مهمة سهلة على ما يبدو لمطور JavaScript متمرس، فمن المهم مراعاة أفضل الممارسات عند التفكير في استخدامها.

## <a name="business-rules-vs-client-script"></a>قواعد العمل مقابل البرنامج النصي للعميل

قواعد العمل هي ميزة متوفرة في التطبيقات المستندة إلى النموذج والتي تمكن المستخدمين من تنفيذ الإجراءات المطلوبة بشكل متكرر على نموذج بناءً على متطلبات وشروط معينة. على وجه التحديد، يمكن لقواعد العمل القيام بالمهام التالية:

-   تعيين قيم الحقل

-   مسح قيم الحقل

-   تعيين مستويات متطلبات الحقل

-   إظهار أو إخفاء الحقول

-   تمكين أو تعطيل الحقول

-   التحقق من صحة البيانات وإظهار رسائل الخطأ

-   إنشاء توصيات الأعمال بناءً على ذكاء الأعمال.

في حين أن إطار العمل المتاح قوي، فقد توجد بعض السيناريوهات حيث لا تستطيع قواعد العمل تحقيق متطلبات معينة بشكل كامل. لحسن الحظ في هذه الحالات، يمكن أن تضيق البرمجة النصية للعميل الاختلافات بين قواعد العمل ومتطلبات مخصصة أكثر. تستكشف هذه الوحدة بعض القيود الشائعة التي يواجهها المستخدمون مع قواعد العمل حيث قد يظل البرنامج النصي للعميل حلاً أفضل.

### <a name="referencing-related-data"></a>الرجوع إلى البيانات ذات الصلة

إذا كنت بحاجة إلى الإشارة إلى البيانات الموجودة في كيان ذي صلة، مثل عنوان جهة الاتصال الأساسية في حساب ما، فستحتاج إلى استخدام البرنامج النصي للعميل وWeb API.

### <a name="logic-needs-to-run-on-the-form-save-event"></a>يجب تشغيل المنطق في حدث "حفظ النموذج"

تعمل قواعد العمل فقط عند تحميل النموذج وعند تغيير الحقل. إذا كنت بحاجة إلى منطق الأعمال للتشغيل عند الحفظ، فستحتاج إلى استخدام البرنامج النصي الخاص بالعميل للقيام بذلك.

### <a name="complex-conditions"></a>ظروف معقدة

إذا كان الشرط يحتوي على عدة عبارات `and` أو يتطلب عبارات `or`، فقد يكون من الأفضل كتابة هذه الأنواع من الشروط في البرنامج النصي للعميل وليس من خلال قواعد العمل.

### <a name="clearing-values-of-form-data"></a>مسح قيم بيانات النموذج

لا يمكن مسح البيانات من حقل نموذج بسهولة عن طريق قاعدة العمل. في حين أن هناك حلولاً يمكن تحقيقها من خلال تعيين الحقول "الوهمية" التي تحتوي دائماً على قيم NULL، يتم إنجاز هذا بشكل أكثر أناقة من خلال البرنامج النصي للعميل.

## <a name="calculated-fields-vs-client-script"></a>الحقول المحسوبة مقابل البرنامج النصي للعميل

يتم حساب الحقول عند الاسترداد، لذلك لن تظهر تغييرات العميل حتى يتم تحديث البيانات. إذا كنت تريد تحديث البيانات على الفور في النموذج، فسيكون البرنامج النصي للعميل هو الطريقة المفضلة.

## <a name="coding-standards-and-best-practices"></a>معايير الترميز وأفضل الممارسات

تغطي الأقسام التالية أفضل الممارسات والمعايير الخاصة بالتشفير.

### <a name="define-unique-script-function-names"></a>تحديد أسماء فريدة لوظيفة البرنامج النصي

من المرجح أن يتم تحميل الوظائف التي تكتبها في نموذج مع العديد من المكتبات الأخرى. إذا كانت مكتبة أخرى تحتوي على دالة لها نفس اسم تلك التي توفرها، فإن الوظيفة التي تم تحميلها أخيراً هي تلك التي سيتم تحديدها لتلك الصفحة. لتجنب حدوث تعارض محتمل، تأكد من استخدام أسماء وظائف فريدة. يمكنك استخدام الاستراتيجيات التالية إذا لم يكن لديك أنت أو مؤسستك واحدة بالفعل:

- **بادئة وظيفة فريدة** - حدد كل وظيفة من وظائفك باستخدام الصيغة القياسية مع اسم ثابت يتضمن اصطلاح تسمية فريداً، كما هو موضح في المثال التالي.

    ```csharp
    function MyUniqueName_performMyAction()
    {
    // Code to perform your action.
    }
    ```

- **أسماء المكتبات المتباعدة في الأسماء** - إقران كل وظيفة من وظائفك بكائن نص برمجي لإنشاء نوع من مساحة الاسم لاستخدامه عند استدعاء وظائفك ، كما هو موضح في المثال التالي.

    ```csharp
    //If the MyUniqueName namespace object isn’t defined, create it.
    if (typeof (MyUniqueName) == "undefined")
       { MyUniqueName = {}; }
       // Create Namespace container for functions in this library;
       MyUniqueName.MyFunctions = {
     performMyAction: function(){
     // Code to perform your action.
     //Call another function in your library
     this.anotherAction();
       },
       anotherAction: function(){
     // Code in another function
      }
    };
    ```

عند استخدام وظيفتك، يمكنك تحديد الاسم الكامل، كما هو موضح في المثال التالي.

```csharp
MyUniqueName.MyFunctions.performMyAction();
```

إذا قمت باستدعاء وظيفة داخل وظيفة أخرى، فيمكنك استخدام الكلمة الرئيسية **this** كاختصار للكائن الذي يحتوي على كلتا الوظيفتين.
ومع ذلك، إذا تم استخدام وظيفتك كمعالج للأحداث، فإن الكلمة الرئيسية **this** ستشير إلى الكائن الذي يقع الحدث عليه.

### <a name="avoid-unsupported-methods"></a>تجنب الطرق غير المدعومة

في حين أن بعض موارد الجهات الخارجية على الإنترنت قد تقترح أو تحتوي على أمثلة لكيفية استخدام طرق غير مدعومة لأداء إجراءات معينة، فإن هذا غير مستحسن للغاية. لا يمكن ضمان عمل هذه الأساليب في الإصدارات المستقبلية من تطبيقك وقد تساهم في عدم استقرار التنفيذ.

### <a name="avoid-using-jquery-in-forms-and-ribbon-commands"></a>تجنب استخدام jQuery في النماذج وأوامر الشريط

أثناء الوصول إليه من خلال موارد صفحات الويب، لا يتم دعم jQuery في البرامج النصية للنماذج أو أوامر الشريط. يُنصح بشدة بتقييد البرامج النصية لاستخدام الطرق الموجودة في نموذج كائن Client API فقط. لمزيد من المعلومات، راجع [فهم نموذج كائن Client API](/powerapps/developer/model-driven-apps/clientapi/understand-clientapi-object-model/?azure-portal=true).

### <a name="write-non-blocking-code"></a>كتابة رمز غير محظور

عند إجراء استعلامات أو أنشطة كثيفة العمليات، تأكد من استخدام أنماط غير متزامنة لضمان تجربة مستخدم غير محظورة.

### <a name="write-code-for-multiple-browsers"></a>اكتب كود لمتصفحات متعددة

تأكد من اختبار أي نصوص تكتبها لتعمل مع جميع المتصفحات التي تدعمها التطبيقات المستندة إلى النموذج. لمزيد من المعلومات، راجع [متصفحات الويب والأجهزة المحمولة المدعومة](/power-platform/admin/supported-web-browsers-and-mobile-devices/?azure-portal=true).
 
