---
ms.openlocfilehash: 9b5295c6adcb7034606fdf10debb0b0e7e6fd11b
ms.sourcegitcommit: a3c50c90e8fa530b2bd45a8d504db56bc979a6cb
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 08/29/2022
ms.locfileid: "9364704"
---
عند تحديد الخيار **تمكين تغييرات البيانات في وقت قريب من الوقت الحقيقي**، يتم إدراج البيانات، وتحديثها، وحذفها في مستودع بياناتك في وقت قريب من الوقت الحقيقي. يتم تحديث نفس البيانات في مستودع البيانات خلال بضع دقائق، وذلك عند تغيير البيانات في بيئة التمويل والعمليات. يمكنك أيضاً الحصول على تغييرات البيانات في مجلد **موجز تغييرات** منفصل.

يتيح لك تغيير البيانات في مستودع بيانات إنشاء تدفقات بيانات في وقت قريب من الوقت الحقيقي التي تتفاعل مع تغييرات البيانات في تطبيقات التمويل والعمليات. يحتوي مجلد **موجز التغييرات** في مستودع البيانات على كل تغيير بيانات في تطبيقات التمويل والعمليات. يتم إنشاء وصيانة هذا المجلد تلقائياً بواسطة ميزة **تصدير إلى مستودع البيانات**.

## <a name="why-do-you-need-change-data-in-a-data-lake"></a>لماذا تحتاج إلى تغيير البيانات في مستودع بيانات؟
في الغالب تُستخدم البيانات في مستودع بيانات لأغراض إعداد التقارير. على الرغم من أنه يمكنك استخدام بيانات الجدول في مستودع البيانات لإنشاء التقارير، إلا أنه يمكنك أيضاً إنشاء نُسخ إضافية من البيانات لتحسين عملية إعداد التقارير. على سبيل المثال، قد يكون لديك متجر بيانات تم تصميمه لتمكين مستخدمي الطاقة لديك. في متجر البيانات هذا، قد تكون قد قمت بتبسيط، وفي الغالب تجميع، جداول الحقائق وجداول الأبعاد.

في حالة تحديث بيانات الجدول في مستودع البيانات، يجب الحفاظ على تحديث جداول الحقائق وجداول الأبعاد المقابلة في مستودع البيانات. وإلا فلن تعكس التقارير الخاصة بك أحدث البيانات.

تتمثل أسهل طريقة لتحديث جداول الحقائق وجداول الأبعاد في إنشاء نسخة كاملة بشكل دوري باستخدام الجداول. ومع ذلك، قد يكون هذا النهج غير فعال. إذا كانت جداولك كبيرة (على سبيل المثال، إذا كانت تحتوي على ملايين أو مئات الملايين من الصفوف)، فإن عملية تحديث جدول حقائق بإنشاء نسخة كاملة قد تستغرق ساعات وتستهلك الكثير من موارد الحساب. وبالتالي، قد لا يحصل المستخدمون لديك على التقارير في الوقت المحدد (أي، قد يحتاجون إلى الانتظار لساعات لرؤية أحدث البيانات في التقارير). بالإضافة إلى ذلك، ونظراً لأن موارد حساب يتم استهلاكها في كل مرة تتم فيها إعادة معالجة البيانات، فقد تتلقى فاتورة أكبر من الخدمات التي استهلكتها.

يوفر التحديث التزايدي لجداول الحقائق وجداول الأبعاد الإجابة عن كلتا المشكلتين (استهلاك الوقت واستهلاك موارد الحساب). في التحديث التزايدي، تقوم أنت بتحديد فقط السجلات التي تم تغييرها من الجداول المصدر، وتقوم بتحديثها في جداول الحقائق وجداول الأبعاد المقابلة.

يعد التحديث التزايدي إمكانية قياسية في معظم أدوات تحويل البيانات، مثل Azure Data Factory. ومع ذلك، لكي تعمل ميزة التحديث التزايدي، يجب عليك تحديد السجلات التي تغيرت في الجداول المصدر.

يوفر مجلد **موجز التغييرات** سجلاً بتغييرات بيانات الجدول في مستودع البيانات. يمكن استخدام هذا السجل لتدفقات البيانات التي تستخدم ميزة التحديث التزايدي.

للحصول على معلومات أكثر تفصيلاً حول المجلد **موجز التغييرات**، راجع [تغيير البيانات في Azure Data Lake](/dynamics365/fin-ops-core/dev-itpro/data-entities/azure-data-lake-change-feeds/?azure-portal=true).

## <a name="best-practices-when-change-feeds-are-used"></a>أفضل الممارسات عند استخدام موجزات التغييرات
يفحص هذا القسم بعض أفضل الممارسات التي ينبغي لك اتباعها عند استخدام موجزات التغييرات.

### <a name="updating-near-real-time-data-marts"></a>تحديث متاجر البيانات في وقت قريب من الوقت الحقيقي
إذا كنت تحتاج إلى تحديث مستودع البيانات أو متاجر البيانات الخاصة بك في وقت قريب من الوقت الحقيقي (بمعني آخر، إذا كان يجب تحديثها خلال دقائق من عملية تغيير بيانات في تطبيقات التمويل والعمليات)، فينبغي لك استخدام موجزات التغييرات.

ومع ذلك، هناك العديد من المفاهيم المهمة التي يجب فهمها:

- يتم تجميع سجلات التغييرات في ملفات بحجم يتراوح بين 4 ميغابايت أو 8 ميغابايت. قامت Microsoft بتحسين أحجام الملفات بحيث توفر أفضل أوقات استجابة للاستعلام عند الاستعلام عن الملفات بواسطة Synapse SQL Serverless. كما أن أحجام الملفات المحسّنة (وعمليات الكتابة المنفذة على دفعات) تقوم أيضاً بتقليل مصاريف Azure التي قد تتكبدها عند تحديث مستودع البيانات.
- يتم إلحاق سجلات التغييرات فقط. لا يتم تحديث الملفات الموجودة في مجلد **موجز التغييرات** أبداً. على الرغم من أن كل سجل تغيير يحتوي على رقم LSN وتاريخ/وقت التغيير، يمكنك أيضاً استخدام طابع التاريخ/الوقت لملفات CSV لتحديد التغييرات.
- عند إعادة تنشيط جدول في تطبيقات التمويل والعمليات، يتم مسح بيانات مجلد **موجز التغييرات**، ويبدأ النظام موجزات التغييرات من التغيير المتوفر التالي. يضمن هذا السلوك اتساق التغييرات مع مجلد **جداول**. عند إعادة تنشيط الجداول، يجب تشغيل تحديث كامل لتدفقات البيانات في بيئة مراحل نهائية.
- يمكن تنسيق المهام في بيئة مراحل نهائية لديك على أساس دوري (على سبيل المثال، كل 10 دقائق)، أو يمكن تشغيلها عند إضافة ملف موجز تغييرات جديد إلى مجلد.
- وفي كلتا الحالتين، يجب أن تشتمل تدفقات البيانات في بيئة مراحل نهائية الخاصة بك على علامة *آخر معالجة* (تُعرف أيضاً بعلامة مائية). ويمكنك الاعتماد على الحقل **LSN** في السجل كالعلامة المائية، متى كان ذلك ممكناً. ومع ذلك، يمكنك أيضاً استخدام طابع **التاريخ والوقت للملف** كالعلامة المائية. ومن خلال الاعتماد على LSN، فإنك تضمن أن تستهلك التغييرات بنفس التسلسل الذي تم الالتزام به في قاعدة بيانات التمويل والعمليات.

للحصول على مثال يوضح كيف يمكنك إنشاء تدفق بيانات في بيئة مراحل نهائية، راجع [قالب استيعاب بيانات Synapse](https://github.com/microsoft/Dynamics-365-FastTrack-Implementation-Assets/tree/master/Analytics/SynapseToSQL_ADF/?azure-portal=true) يمكنك استخدامه لاستيعاب البيانات بشكل تزايدي في مستودع بيانات يستند إلى SQL.
