---
ms.openlocfilehash: 7bac7aabd9f809a5b34234d69dbf31aa0ca101eb
ms.sourcegitcommit: 82ed9ded42c47064c90ab6fe717893447cd48796
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 10/19/2020
ms.locfileid: "6071286"
---
<span data-ttu-id="60c9c-101">باستخدام محلل التتبع، يمكنك استهلاك عمليات التتبع وتحليل الأداء في توزيع تطبيقات Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="60c9c-101">By using Trace parser, you can consume traces, and analyze performance in your Finance and Operations apps deployment.</span></span> <span data-ttu-id="60c9c-102">يضمن ذلك أن يكون لديك فكرة عما يحدث حالياً في بيئاتك الموزعة ويساعد على ضمان أن مستخدمي الأعمال لديهم وقت الاستجابة الذي يحتاجونه لعملياتهم اليومية.</span><span class="sxs-lookup"><span data-stu-id="60c9c-102">This ensures that you have an idea of what is currently happening in your deployed environments and helps ensure that business users have the response time that they need for their daily processes.</span></span>

<span data-ttu-id="60c9c-103">تستكشف هذه الوحدة كيفية استخدام محلل التتبع لتحديد أي مشكلات حالية يتم توزيعها في بيئات تطبيقات Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="60c9c-103">This unit explores how to use the Trace parser to identify any current issues that are deployed in Finance and Operations apps environments.</span></span>
 
## <a name="how-to-use-trace-parser"></a><span data-ttu-id="60c9c-104">كيفية استخدام محلل التتبع</span><span class="sxs-lookup"><span data-stu-id="60c9c-104">How to use Trace parser</span></span> 

<span data-ttu-id="60c9c-105">يتوفر محلل التتبع في مجلد **PerfSDK** في عمليات توزيع بيئة التطوير الخاصة بك.</span><span class="sxs-lookup"><span data-stu-id="60c9c-105">Trace parser is available in the **PerfSDK** folder on your development environment deployments.</span></span> <span data-ttu-id="60c9c-106">عند تحديد موقع الأداة وتثبيتها في بيئة التطوير الخاصة بك، يمكنك إنشاء آثار عن طريق تنفيذ الإجراءات التي تريد تحليلها.</span><span class="sxs-lookup"><span data-stu-id="60c9c-106">When you have located the tool and installed it in your development environment, you can create traces by performing the actions that you want to analyze.</span></span>

<span data-ttu-id="60c9c-107">لالتقاط تتبع، يجب عليك أولاً التأكد من أنك قد أكملت قائمة المهام التي تحتاج إلى تحليلها لتجنب وجود بيانات التعريف والمهام الأخرى المضمنة في التتبع الخاص بك.</span><span class="sxs-lookup"><span data-stu-id="60c9c-107">To capture a trace, you must first ensure that you have completed the list of tasks that you need to analyze to avoid having metadata and other tasks included in your trace.</span></span> <span data-ttu-id="60c9c-108">يجب عليك أيضاً إضافة دور مستخدم تتبع النظام إلى المستخدم الذي يحتاج إلى إكمال التتبع.</span><span class="sxs-lookup"><span data-stu-id="60c9c-108">You must also add the System tracing user role to the user who needs to complete the trace.</span></span> <span data-ttu-id="60c9c-109">في واجهة مستخدم Finance and Operations، انتقل إلى **إدارة النظام > المستخدمين > المستخدمين**.</span><span class="sxs-lookup"><span data-stu-id="60c9c-109">In the Finance and Operations user interface, go to **System administration > Users > Users**.</span></span> <span data-ttu-id="60c9c-110">ومن هناك، يمكنك تحديد المستخدم وتحديد **تعيين الأدوار** في علامة التبويب السريعة **أدوار المستخدم**.</span><span class="sxs-lookup"><span data-stu-id="60c9c-110">From there, you can select the user and select **Assign roles** on the **User's roles** FastTab.</span></span>

<span data-ttu-id="60c9c-111">بعد إضافة دور مستخدم تتبع النظام، يمكن للمستخدم المعين التقاط التتبع.</span><span class="sxs-lookup"><span data-stu-id="60c9c-111">After you have added the System tracing user role, the assigned user can capture the trace.</span></span> <span data-ttu-id="60c9c-112">في شريط التنقل أعلى يمين الشاشة، حدد رمز علامة الاستفهام.</span><span class="sxs-lookup"><span data-stu-id="60c9c-112">In the navigation bar at the top-right of the screen, select the question mark icon.</span></span> <span data-ttu-id="60c9c-113">في القائمة المنسدلة التي تظهر، حدد **تتبع**.</span><span class="sxs-lookup"><span data-stu-id="60c9c-113">In the drop-down menu that appears, select **Trace**.</span></span> <span data-ttu-id="60c9c-114">عندما تظهر الشاشة الجديدة، قم بتسمية التتبع الذي ستقوم بالتقاطه وحدد **بدء التتبع**.</span><span class="sxs-lookup"><span data-stu-id="60c9c-114">When the new screen appears, name the trace that you are going to capture and select **Start trace**.</span></span> <span data-ttu-id="60c9c-115">نفذ جميع الإجراءات التي تحتاج إلى التقاطها وتحليلها قبل تحديد **إيقاف التتبع**.</span><span class="sxs-lookup"><span data-stu-id="60c9c-115">Perform all the actions that you need to capture and analyze before selecting **Stop trace**.</span></span>

<span data-ttu-id="60c9c-116">عند إيقاف التتبع، يمكنك تحديد **تنزيل التتبع**، والذي سيخزن التتبع الذي تم التقاطه على جهازك المحلي، حيث يمكنك تحليله باستخدام إصدار سطح المكتب من محلل التتبع؛ ومع ذلك، لا يمكن تحميله لاحقاً.</span><span class="sxs-lookup"><span data-stu-id="60c9c-116">When you stop the trace, you can select **Download trace**, which will store the captured trace on your local machine, where you can analyze it with the desktop version of Trace parser; however, it cannot be uploaded later.</span></span> <span data-ttu-id="60c9c-117">إذا اخترت **تحميل التتبع**، فسيقوم محلل التتبع بتخزين التتبع في السحابة لتنزيله في وقت مختلف، ولكن سيتم حذفه تلقائياً بعد سبعة أيام.</span><span class="sxs-lookup"><span data-stu-id="60c9c-117">If you choose **Upload trace**, Trace parser will store the trace in the cloud to download at a different time, but it will be automatically deleted after seven days.</span></span> <span data-ttu-id="60c9c-118">بدلاً من ذلك، يمكن حذف التتبع يدوياً من صفحة **عمليات التتبع الملتقطة**.</span><span class="sxs-lookup"><span data-stu-id="60c9c-118">Alternatively, the trace can be manually deleted from the **Captured traces** page.</span></span>

> [!TIP]
> <span data-ttu-id="60c9c-119">إذا استغرق تسلسل الأحداث الخاصة بك للتتبع أكثر من بضع دقائق، فإننا نوصيك بأخذ آثار متعددة وأصغر لتقليل مخاطر فقدان البيانات إذا أصبح التتبع كبيراً جداً بحيث يتعذر تحليله في الوقت المناسب.</span><span class="sxs-lookup"><span data-stu-id="60c9c-119">If your sequence of events for a trace takes more than a few minutes, we recommend that you take multiple, smaller traces to minimize the risk of losing data if the trace becomes too large to analyze in a timely manner.</span></span>

## <a name="diagnose-issues-and-analyze-performance-by-using-trace-parser"></a><span data-ttu-id="60c9c-120">تشخيص المشكلات وتحليل الأداء باستخدام محلل التتبع</span><span class="sxs-lookup"><span data-stu-id="60c9c-120">Diagnose issues and analyze performance by using Trace parser</span></span> 

<span data-ttu-id="60c9c-121">باستخدام محلل التتبع، يمكنك تحديد مشكلات الأداء.</span><span class="sxs-lookup"><span data-stu-id="60c9c-121">By using Trace Parser, you can identify performance issues.</span></span> <span data-ttu-id="60c9c-122">قد تتضمن بعض مشكلات الأداء هذه طرق X++ طويلة الأمد أو استعلامات SQL المستهلكة للوقت أو اتصال خادم العميل.</span><span class="sxs-lookup"><span data-stu-id="60c9c-122">Some of these performance issues may include long-running X++ methods, time-consuming SQL queries, or client server calls.</span></span> 

<span data-ttu-id="60c9c-123">يمكن فتح التتبع الذي تم التقاطه لتشخيص المشكلات وتحليل أداء المهام بطرق متعددة.</span><span class="sxs-lookup"><span data-stu-id="60c9c-123">The captured trace can be opened to diagnose issues and analyze performance of the tasks in multiple ways.</span></span> <span data-ttu-id="60c9c-124">الخطوة التالية بعد تنزيل ملف التتبع هي فتح محلل التتبع في بيئة المطور أو VHD.</span><span class="sxs-lookup"><span data-stu-id="60c9c-124">The next step after downloading the trace file is to open the Trace parser on your developer environment or VHD.</span></span> <span data-ttu-id="60c9c-125">إذا لم يتم تثبيت الأداة في بيئتك، فستكون في C:\Program Files (x86)\MicrosoftDynamicsAX\Microsoft.Dynamics.AX.Tracing.TraceParser.exe</span><span class="sxs-lookup"><span data-stu-id="60c9c-125">If your environment does not have the tool installed, it is in C:\Program Files (x86)\MicrosoftDynamicsAX\Microsoft.Dynamics.AX.Tracing.TraceParser.exe</span></span>

<span data-ttu-id="60c9c-126">في محلل التتبع، يمكنك تنزيل واستيراد الأحداث التي تم التقاطها مسبقاً.</span><span class="sxs-lookup"><span data-stu-id="60c9c-126">In the Trace parser, you can download and import the previously captured events.</span></span> <span data-ttu-id="60c9c-127">للقيام بذلك، حدد زر **تنزيل واستيراد** في محلل التتبع لاستيراد ملف ETL.</span><span class="sxs-lookup"><span data-stu-id="60c9c-127">To do this, select the **Download and import** button in the Trace parser to import the ETL file.</span></span>

<span data-ttu-id="60c9c-128">لعرض التتبعات وتحليلها، حدد علامة التبويب **الجدول الزمني** لرؤية طريقة عرض الجدول الزمني.</span><span class="sxs-lookup"><span data-stu-id="60c9c-128">To view the traces and analyze them, select the **Timeline** tab to see the timeline view.</span></span> <span data-ttu-id="60c9c-129">يمكنك استخدام القائمة المنسدلة **تحديد تجميع** لتجميع المحتوى الذي يستند إلى مجموعة متنوعة من الفئات وأنواع الأحداث، مثل معرف العميل واسم المستخدم واسم الجلسة وما إلى ذلك.</span><span class="sxs-lookup"><span data-stu-id="60c9c-129">You can use the **Select Grouping** drop-down menu to group content that is based on a variety of categories and event types, such as Customer ID, username, Session name, and so on.</span></span> <span data-ttu-id="60c9c-130">ستعرض التجميعات الطوابع الزمنية لكل حدث، وإجمالي عدد الأحداث، وأدنى مستوى للحدث في التجميع.</span><span class="sxs-lookup"><span data-stu-id="60c9c-130">The groupings will display timestamps of each event, total number of events, and the lowest event level in the grouping.</span></span> <span data-ttu-id="60c9c-131">يمكنك أيضاً مشاهدة قائمة بجميع الأحداث في طريقة عرض متسلسلة أو غير متسلسلة.</span><span class="sxs-lookup"><span data-stu-id="60c9c-131">You can also see the list of all events in a threaded or unthreaded view.</span></span> <span data-ttu-id="60c9c-132">انتقل إلى شبكة **الخاصية** لحدث محدد لرؤية مخطط جدول زمني لجميع الأحداث المحددة وأحداث التصفية وملاحظات تحليل جلسة العمل.</span><span class="sxs-lookup"><span data-stu-id="60c9c-132">Go to the **Property** grid for a selected event to see a timeline chart for all the selected events, filter events, and session analysis notes.</span></span> <span data-ttu-id="60c9c-133">في طريقة عرض **شجرة الاتصال**، ضمن علامة التبويب **شجرة الاتصال**، ستجد شجرة الاتصال لجميع طرق X++ للأحداث التي تم التقاطها.</span><span class="sxs-lookup"><span data-stu-id="60c9c-133">In the **Call tree** view, under the **Call tree** tab, you will find the call tree for all X++ methods for the captured events.</span></span> <span data-ttu-id="60c9c-134">بالإضافة إلى ذلك، في علامة التبويب **X++** توجد قائمة بجميع طرق X++، ويمكنك فرزها حسب الحقول مثل المدد الشاملة/الحصرية أو RPC أو اتصالات قاعدة البيانات.</span><span class="sxs-lookup"><span data-stu-id="60c9c-134">Additionally, on the **X++** tab is a list of all the X++ methods, and you can sort them by fields such as inclusive/exclusive durations, RPC, or database calls.</span></span>

## <a name="scenario"></a><span data-ttu-id="60c9c-135">السيناريو:</span><span class="sxs-lookup"><span data-stu-id="60c9c-135">Scenario:</span></span>

<span data-ttu-id="60c9c-136">يواجه مستخدمو شركة Contoso ‏USA مشكلات في الأداء عندما يحاولون ترحيل دفتر يوميات دفع.</span><span class="sxs-lookup"><span data-stu-id="60c9c-136">Contoso USA users are experiencing performance issues when they try to post a payment journal.</span></span> <span data-ttu-id="60c9c-137">الوقت الذي يستغرقه دفتر اليومية للترحيل أطول بكثير مما ينبغي.</span><span class="sxs-lookup"><span data-stu-id="60c9c-137">The time it has been taking for the journal to post is taking much longer than it should.</span></span> <span data-ttu-id="60c9c-138">بصفتك مطوراً لدى شركة Contoso ‏USA، قد تم تكليفك بتشخيص سبب استغراق ترحيل دفاتر اليومية وقتاً طويلاً.</span><span class="sxs-lookup"><span data-stu-id="60c9c-138">As a developer for Contoso USA, you have been tasked to diagnose why posting payment journals is taking so long.</span></span> 

<span data-ttu-id="60c9c-139">اتبع هذه الخطوات لفحص مشكلات الأداء:</span><span class="sxs-lookup"><span data-stu-id="60c9c-139">Follow these steps to investigate the performance issues:</span></span>

1.  <span data-ttu-id="60c9c-140">قم بتسجيل الدخول إلى تطبيقات Finance and Operations وابدأ عملية تتبع من قائمة **التعليمات والدعم**.</span><span class="sxs-lookup"><span data-stu-id="60c9c-140">Login to Finance and Operations apps and start a trace from the **Help and support** menu.</span></span> 
2.  <span data-ttu-id="60c9c-141">قم بتسمية التتبع.</span><span class="sxs-lookup"><span data-stu-id="60c9c-141">Name the trace.</span></span>
3.  <span data-ttu-id="60c9c-142">حدد **بدء**.</span><span class="sxs-lookup"><span data-stu-id="60c9c-142">Select **Start**.</span></span> 
4.  <span data-ttu-id="60c9c-143">نفذ عملية الأعمال التي تقوم بتشخيصها.</span><span class="sxs-lookup"><span data-stu-id="60c9c-143">Perform the business operation that you are diagnosing.</span></span> <span data-ttu-id="60c9c-144">في هذه الحالة، ستقوم بترحيل دفتر يومية دفع.</span><span class="sxs-lookup"><span data-stu-id="60c9c-144">In this case, you would post a payment journal.</span></span> 
5.  <span data-ttu-id="60c9c-145">أوقف التتبع.</span><span class="sxs-lookup"><span data-stu-id="60c9c-145">Stop the trace.</span></span>
6.  <span data-ttu-id="60c9c-146">قم بتنزيل التتبع.</span><span class="sxs-lookup"><span data-stu-id="60c9c-146">Download the trace.</span></span> <span data-ttu-id="60c9c-147">من المهم أن تضع في اعتبارك أنه عند تنزيل التتبع، سيتم حذفه.</span><span class="sxs-lookup"><span data-stu-id="60c9c-147">It is important to keep in mind that when the trace is downloaded, it will be deleted.</span></span> 
7.  <span data-ttu-id="60c9c-148">حدد **تحميل التتبع**.</span><span class="sxs-lookup"><span data-stu-id="60c9c-148">Select **Upload trace**.</span></span> <span data-ttu-id="60c9c-149">يجب أن تتلقى رسالة في مركز الإجراءات تفيد بأنه تم تحميل التتبع.</span><span class="sxs-lookup"><span data-stu-id="60c9c-149">You should receive a message in the Action center that the trace has been uploaded.</span></span> 
9.  <span data-ttu-id="60c9c-150">العودة إلى قائمة **التتبع** الرئيسية</span><span class="sxs-lookup"><span data-stu-id="60c9c-150">Return to the **Tracing** main menu</span></span>
10. <span data-ttu-id="60c9c-151">حدد **عمليات التتبع الملتقطة**.</span><span class="sxs-lookup"><span data-stu-id="60c9c-151">Select **Captured traces**.</span></span> <span data-ttu-id="60c9c-152">سيتم فتح صفحة عمليات التتبع الملتقطة بالتتبع الذي التقطته للتو.</span><span class="sxs-lookup"><span data-stu-id="60c9c-152">The captured traces page will open with the trace you just captured.</span></span> 
12. <span data-ttu-id="60c9c-153">يمكنك الآن تشغيل محلل التتبع واستيراد التتبع والتحليل.</span><span class="sxs-lookup"><span data-stu-id="60c9c-153">Now you can launch Trace Parser, import the trace and analyze.</span></span>

<span data-ttu-id="60c9c-154">قبل أن تتمكن من تحليل التتبع، تحتاج إلى تنزيل محلل التتبع.</span><span class="sxs-lookup"><span data-stu-id="60c9c-154">Before you can analyze a trace, you need to download the Trace Parser.</span></span> <span data-ttu-id="60c9c-155">لتنزيل تطبيق محلل التتبع، اتبع الخطوات التالية:</span><span class="sxs-lookup"><span data-stu-id="60c9c-155">To download the trace parser application, follow these steps:</span></span>

1.  <span data-ttu-id="60c9c-156">في الجهاز الظاهري للمطور الخاص بك، افتح مستكشف الملفات.</span><span class="sxs-lookup"><span data-stu-id="60c9c-156">In your developer virtual machine, open File Explorer.</span></span> 
2.  <span data-ttu-id="60c9c-157">ابحث عن ملف exe. لمحلل التتبع.</span><span class="sxs-lookup"><span data-stu-id="60c9c-157">Find the Trace Parser .exe file.</span></span> <span data-ttu-id="60c9c-158">في معظم مربعات المستوى 1، يمكن العثور على التنزيل في E:\AppRing3\10.0.8.10012\retail\Services\PerfSDK\Scripts.</span><span class="sxs-lookup"><span data-stu-id="60c9c-158">In most Tier 1 boxes, the download can be found in E:\AppRing3\10.0.8.10012\retail\Services\PerfSDK\Scripts.</span></span>
3.  <span data-ttu-id="60c9c-159">عند تنزيل محلل التتبع، قم بتشغيله.</span><span class="sxs-lookup"><span data-stu-id="60c9c-159">When Trace Parser is downloaded, start it.</span></span> 
4.  <span data-ttu-id="60c9c-160">قم بتسجيل قاعده البيانات.</span><span class="sxs-lookup"><span data-stu-id="60c9c-160">Register the database.</span></span> <span data-ttu-id="60c9c-161">للقيام بذلك، حدد اسم الخادم، ثم قم بتسمية قاعده البيانات.</span><span class="sxs-lookup"><span data-stu-id="60c9c-161">To do this, specify the server name, and then name the database.</span></span> <span data-ttu-id="60c9c-162">راجع المثال التالي:</span><span class="sxs-lookup"><span data-stu-id="60c9c-162">See the following example:</span></span>

    ![لقطة شاشة لكيفية تسجيل قاعدة بيانات في تطبيق محلل التتبع](../media/register-database.png)

5.  <span data-ttu-id="60c9c-164">حدد **تسجيل**.</span><span class="sxs-lookup"><span data-stu-id="60c9c-164">Select **Register**.</span></span> 
6.  <span data-ttu-id="60c9c-165">حدد **نعم** عند سؤالك عما إذا كنت ترغب في إنشاء قاعدة البيانات.</span><span class="sxs-lookup"><span data-stu-id="60c9c-165">Select **Yes** when you are asked if you want to create the database.</span></span> 
