---
ms.openlocfilehash: a8d886d3cecef0d76b54d549cae66d0b821c6377
ms.sourcegitcommit: 376bcfca0ae39f70ac627a080fe4b4c3db34e466
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 03/04/2021
ms.locfileid: "6072299"
---
<span data-ttu-id="99d6f-101">في مرحلة التنفيذ، ستعمل في مشروع تنفيذ Lifecycle Services لتطبيقات Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="99d6f-101">In the Execute phase, you will be working in a Lifecycle Services implementation project for Finance and Operations apps.</span></span> <span data-ttu-id="99d6f-102">للانتقال إلى مرحلة التنفيذ، يجب شراء تطبيقات Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="99d6f-102">To move to the Execute phase, you must purchase Finance and Operations apps.</span></span>

![رسم تخطيطي لعملية التنفيذ بدءاً من ترقية الكود إلى ترقية البيانات.](../media/execution-process.png)

<span data-ttu-id="99d6f-104">وتعد الأنشطة التالية ضرورية في مرحلة التنفيذ:</span><span class="sxs-lookup"><span data-stu-id="99d6f-104">The following activities are necessary in the Execute phase:</span></span>

1.  <span data-ttu-id="99d6f-105">**مهام إعداد Dynamics AX 2012** - إكمال المهام المحددة في مرحلة التحليل، مثل مهام تنظيف البيانات وتكوين SQL وقائمة اختيار ما قبل الترقية.</span><span class="sxs-lookup"><span data-stu-id="99d6f-105">**Dynamics AX 2012 preparation tasks** - Complete tasks that are identified in the Analyze phase such as data cleanup tasks, SQL configuration, and the pre-upgrade checklist.</span></span>

2.  <span data-ttu-id="99d6f-106">**قائمة اختيار ما قبل الترقية** - ترشدك خلال الإعداد لتشغيل الترقية.</span><span class="sxs-lookup"><span data-stu-id="99d6f-106">**Pre-upgrade checklist** - Guides you through preparation for running the upgrade.</span></span> <span data-ttu-id="99d6f-107">يجب عليك تثبيت إصلاح عاجل في Dynamics AX 2012، حيث يعمل على تثبيت قائمة اختيار ترقية Dynamics 365.</span><span class="sxs-lookup"><span data-stu-id="99d6f-107">You must install a hotfix in Dynamics AX 2012, which installs the Dynamics 365 upgrade checklist.</span></span> <span data-ttu-id="99d6f-108">يلزم إكمال المهام التي تتطلّب إضافة البيانات (على سبيل المثال، تعيين المستخدم إلى Azure AD).</span><span class="sxs-lookup"><span data-stu-id="99d6f-108">You must complete tasks that require data to be added (for example, user mapping to Azure AD).</span></span> <span data-ttu-id="99d6f-109">إذا كنت تقوم بالترقية من Dynamics AX 2012 R3، فسيتعيّن عليك تثبيت [مقالة قاعدة المعارف 4035163](https://go.microsoft.com/fwlink/?linkid=852255).</span><span class="sxs-lookup"><span data-stu-id="99d6f-109">If you are upgrading from Dynamics AX 2012 R3, you will need to install [Knowledge base article 4035163](https://go.microsoft.com/fwlink/?linkid=852255).</span></span> <span data-ttu-id="99d6f-110">إذا كنت تقوم بالترقية من Dynamics AX 2012 R2، سيتعيّن عليك تثبيت [مقالة قاعدة المعارف 4048614](https://go.microsoft.com/fwlink/?linkid=869025).</span><span class="sxs-lookup"><span data-stu-id="99d6f-110">If you are upgrading from Dynamics AX 2012 R2, you will need to install [Knowledge base article 4048614](https://go.microsoft.com/fwlink/?linkid=869025).</span></span>
    > [!NOTE]
    > <span data-ttu-id="99d6f-111">لتثبيت هذه الإصلاحات العاجلة، يجب أن تتوفر لديك إمكانية الوصول إلى Lifecycle Services.</span><span class="sxs-lookup"><span data-stu-id="99d6f-111">To install these hotfixes you must have Lifecycle Services access.</span></span>

    <span data-ttu-id="99d6f-112">‏‫تعرض لقطة الشاشة التالية **قائمة اختيار ترقية بيانات Dynamics 365 for Unified Operations** في Dynamics AX 2012.</span><span class="sxs-lookup"><span data-stu-id="99d6f-112">The following screenshot shows the **Dynamics 365 for Unified Operations data upgrade checklist** in Dynamics AX 2012.</span></span>
 

    ![ <span data-ttu-id="99d6f-113">لقطة شاشة لقائمة اختيار ترقية بيانات Dynamics 365 for Unified Operations في Dynamics AX 2012.</span><span class="sxs-lookup"><span data-stu-id="99d6f-113">Screenshot of the the Dynamics 365 for Unified Operations data upgrade checklist in Dynamics AX 2012.</span></span>](../media/checklist.png)

3.  <span data-ttu-id="99d6f-114">**ترقية الكود** - ستتلقى أولاً الإصدارات الجديدة من حلول ISV.</span><span class="sxs-lookup"><span data-stu-id="99d6f-114">**Code upgrade** - You will first receive the new versions of the ISV solutions.</span></span> <span data-ttu-id="99d6f-115">بعد ذلك، سيلزمك إعادة بناء التعليمات البرمجية للتخصيصات (تراكب الطبقات) إلى الملحقات.</span><span class="sxs-lookup"><span data-stu-id="99d6f-115">Then, you will need to refactor your customizations (overlayering) to extensions.</span></span> <span data-ttu-id="99d6f-116">ثمة نهج يتمثّل في البدء بالنموذج الأدنى ثم التقدّم لأعلى.</span><span class="sxs-lookup"><span data-stu-id="99d6f-116">One approach is to start with the lowest model and then work upward.</span></span> <span data-ttu-id="99d6f-117">يمكنك البدء بنموذج النظام الأساسي، ثم الأساس، ثم متابعة التقدّم من هنا.</span><span class="sxs-lookup"><span data-stu-id="99d6f-117">Start with the platform model, then the foundation, and then continue upward from there.</span></span> <span data-ttu-id="99d6f-118">وفي النهاية، يجب أن تُركّز على إجراء التحويل البرمجي بنجاح لأنه يتعذّر فتح التطبيق حتى يتم تحويله برمجياً بالكامل.</span><span class="sxs-lookup"><span data-stu-id="99d6f-118">Finally, you should aim for a successful compile because the application can’t be open until it fully compiles.</span></span>
4.  <span data-ttu-id="99d6f-119">**ترقية البيانات** - تأكد من اكتمال قائمة اختيار ما قبل ترقية Dynamics AX 2012.</span><span class="sxs-lookup"><span data-stu-id="99d6f-119">**Data upgrade** - Ensure that the Dynamics AX 2012 pre-upgrade checklist is completed.</span></span> <span data-ttu-id="99d6f-120">بعد ذلك، يمكنك تشغيل ترقية البيانات في بيئة التطوير ثم التحقق منها.</span><span class="sxs-lookup"><span data-stu-id="99d6f-120">Next, run the data upgrade on the development environment and then validate.</span></span> <span data-ttu-id="99d6f-121">انسخ قاعدة بيانات Dynamics AX 2012 إلى SQL Azure، وقم بتشغيل ترقية البيانات في بيئة اختبار معزولة‬ من الطبقة 2 أو أعلى، ثم تحقق منها.</span><span class="sxs-lookup"><span data-stu-id="99d6f-121">Copy the Dynamics AX 2012 database to SQL Azure, run the data upgrade on a sandbox tier-2 or higher, and then validate.</span></span>

## <a name="data-upgrade"></a><span data-ttu-id="99d6f-122">ترقية البيانات</span><span class="sxs-lookup"><span data-stu-id="99d6f-122">Data upgrade</span></span>


![ <span data-ttu-id="99d6f-123">رسم تخطيطي لعملية ترقية البيانات في بيئة التطوير.</span><span class="sxs-lookup"><span data-stu-id="99d6f-123">Diagram of the process for the data upgrade in a development environment.</span></span>](../media/data-process.png)

<span data-ttu-id="99d6f-124">ستبدأ عملية ترقية البيانات بنسخ قاعدة بيانات Dynamics AX 2012 لديك احتياطياً، ثم يتم تحميل هذه النسخة الاحتياطية إلى مساحة تخزين Azure.</span><span class="sxs-lookup"><span data-stu-id="99d6f-124">You will start the data upgrade process by backing up your Dynamics AX 2012 database and then you will upload the backup to Azure storage.</span></span> <span data-ttu-id="99d6f-125">سيكون الهدف بيئة التطوير التي يمكنك فيها تنزيل النسخة الاحتياطية واستعادتها.</span><span class="sxs-lookup"><span data-stu-id="99d6f-125">The target will be your development environment, where you will download and restore the backup.</span></span> <span data-ttu-id="99d6f-126">وأخيراً، ستقوم بتشغيل الترقية، التي يمكن تشغيلها يدوياً، أو يمكنك استخدام Lifecycle Services لتشغيل ترقية البيانات في بيئة التطوير.</span><span class="sxs-lookup"><span data-stu-id="99d6f-126">Last, you will run the upgrade, which can be run manually, or you can use Lifecycle Services to run the data upgrade on the development environment.</span></span> <span data-ttu-id="99d6f-127">تساعد هذه العملية في تقليل إجمالي الوقت المستغرق في تكرار عملية ترقية البيانات.</span><span class="sxs-lookup"><span data-stu-id="99d6f-127">This process helps reduce the overall time that is spent on iterations of the data upgrade process.</span></span> 

<span data-ttu-id="99d6f-128">يمكن في بيئة التطوير إصلاح أي مشكلة على الفور وتعديل الكود وإعادة تشغيل الترقية في غضون دقائق.</span><span class="sxs-lookup"><span data-stu-id="99d6f-128">In a development environment, an issue can be debugged immediately, code can be adjusted, and the upgrade can be rerun within minutes.</span></span> <span data-ttu-id="99d6f-129">ومع ذلك، هناك بيئات اختبار معزولة‬ أكبر لا تُتيح هذا المستوى من سرعة الأداء،</span><span class="sxs-lookup"><span data-stu-id="99d6f-129">However, larger sandbox environments don’t allow for this level of agility.</span></span> <span data-ttu-id="99d6f-130">حيث يتطلّب فيها الأمر عدة ساعات على الأقل من أجل إصلاح المشكلات ومعالجتها وتحديث الكود ونشر الكود المُحدّث، ثم إعادة تشغيل الترقية.</span><span class="sxs-lookup"><span data-stu-id="99d6f-130">In those environments, a minimum of several hours will be required to debug and remediate issues, update code, deploy the updated code, and then rerun the upgrade.</span></span> 

<span data-ttu-id="99d6f-131">للحصول على مزيد من المعلومات، راجع [الترقية من AX 2012 – ترقية البيانات في بيئات التطوير](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/migration-upgrade/data-upgrade-2012/?azure-portal=true).</span><span class="sxs-lookup"><span data-stu-id="99d6f-131">For more information, see [Upgrade from AX 2012 – Data upgrade in development environments](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/migration-upgrade/data-upgrade-2012/?azure-portal=true).</span></span>

<span data-ttu-id="99d6f-132">إن عملية ترقية البيانات في بيئة من الطبقة 2+ تُماثل تلك في بيئة التطوير.</span><span class="sxs-lookup"><span data-stu-id="99d6f-132">The data upgrade process for a tier 2+ environment is similar to the process in a development environment.</span></span> <span data-ttu-id="99d6f-133">ولكن الفرق الرئيسي بينهما هو أن بيئة الاختبار المعزولة تستخدم قاعدة بيانات Microsoft Azure SQL لتخزين البيانات، في حين تستخدم بيئة التطوير Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="99d6f-133">The main difference is that a sandbox environment uses Microsoft Azure SQL Database for data storage, whereas a development environment uses Microsoft SQL Server.</span></span> <span data-ttu-id="99d6f-134">ويتطلّب هذا الفرق التقني في طبقة قاعدة البيانات تعديل إجراء ترقية البيانات قليلاً في بيئة الاختبار المعزولة لأنه تتعذر استعادة نسخة احتياطية من مثيل قاعدة بيانات Dynamics AX 2012 إلى قاعدة بيانات SQL.</span><span class="sxs-lookup"><span data-stu-id="99d6f-134">This technical difference in the database layer requires that you modify the data upgrade procedure slightly in a sandbox environment because a backup from the Dynamics AX 2012 database instance can't be restored to SQL Database.</span></span> 

<span data-ttu-id="99d6f-135">تشير بيئة الاختبار المعزولة إلى بيئة اختبار القبول القياسي أو الرئيسي (من الطبقة 2/3) أو أعلى المتصلة بقاعدة بيانات SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="99d6f-135">Sandbox refers to a Standard or Premier Acceptance Testing (Tier 2/3) or higher environment that is connected to a SQL Azure database.</span></span> <span data-ttu-id="99d6f-136">في هذه البيئة، يمكن لمستخدمي الأعمال وأعضاء فريق العمل التحقق من صحة وظائف التطبيق.</span><span class="sxs-lookup"><span data-stu-id="99d6f-136">On this environment, business users and functional team members can validate application functionality.</span></span> <span data-ttu-id="99d6f-137">وتتضمن هذه الوظائف التخصيصات والبيانات المتوفرة من Dynamics AX 2012.</span><span class="sxs-lookup"><span data-stu-id="99d6f-137">This functionality includes customizations and the data that was brought forward from Dynamics AX 2012.</span></span>

![ <span data-ttu-id="99d6f-138">رسم تخطيطي لعملية ترقية البيانات في بيئة اختبار معزولة.</span><span class="sxs-lookup"><span data-stu-id="99d6f-138">Diagram of the process for the data upgrade in a sandbox environment.</span></span>](../media/data-process-2.png)

<span data-ttu-id="99d6f-139">يستعرض الإجراء التالي عملية ترقية البيانات بمزيد من التفصيل:</span><span class="sxs-lookup"><span data-stu-id="99d6f-139">The following procedure reviews the data upgrade process in more detail:</span></span>

1.  <span data-ttu-id="99d6f-140">أنشئ نسخة من قاعدة بيانات Dynamics AX 2012.</span><span class="sxs-lookup"><span data-stu-id="99d6f-140">Create a copy of the Dynamics AX 2012 database.</span></span> <span data-ttu-id="99d6f-141">نوصي بشدة باستخدام نسخة لأنه يتعين عليك حذف بعض الكائنات في النسخة التي سيتم تصديرها.</span><span class="sxs-lookup"><span data-stu-id="99d6f-141">We strongly recommend that you use a copy because you must delete some objects in the copy that will be exported.</span></span>  
2.  <span data-ttu-id="99d6f-142">تشغيل برنامج T-SQL النصي لإعداد قاعدة البيانات.</span><span class="sxs-lookup"><span data-stu-id="99d6f-142">Run T-SQL script to prepare the database.</span></span> <span data-ttu-id="99d6f-143">يُعِدّ هذا البرنامج النصي قاعدة البيانات من خلال إزالة المستخدمين وإزالة الإجراءات ذات الصلة بمخزن نماذج Dynamics AX 2012 RTM وتنظيف المخططات وإفلات طرق العرض وإفلات المراجع إلى tempDB.</span><span class="sxs-lookup"><span data-stu-id="99d6f-143">This script prepares the database by removing users, removing procedures that are related to the Dynamics AX 2012 RTM model store, cleaning up schemas, dropping views, and dropping references to tempDB.</span></span> 
3.  <span data-ttu-id="99d6f-144">قم بتصدير قاعدة البيانات المنسوخة إلى ملف bacpac باستخدام أداة SQL Server مجانية تسمى SQLPackage.exe.</span><span class="sxs-lookup"><span data-stu-id="99d6f-144">Export the copied database to a bacpac file by using a free SQL Server tool called SQLPackage.exe.</span></span> <span data-ttu-id="99d6f-145">توفر هذه الأداة نوعاً خاصاً من النسخة الاحتياطية لقاعدة البيانات التي يمكن استيرادها إلى قاعدة بيانات SQL.</span><span class="sxs-lookup"><span data-stu-id="99d6f-145">This tool provides a special type of database backup that can be imported into SQL Database.</span></span> <span data-ttu-id="99d6f-146">معالجة bacpac هي الإدخال/الإخراج (I/O) وتستهلك وحدة المعالجة المركزية (CPU) بشكل كبير.</span><span class="sxs-lookup"><span data-stu-id="99d6f-146">The bacpac process is input/output (I/O) and CPU-intensive.</span></span> <span data-ttu-id="99d6f-147">لذلك، يرجى تشغيل التصدير على جهاز قوي جداً.</span><span class="sxs-lookup"><span data-stu-id="99d6f-147">Therefore, run the export on a high-powered machine.</span></span> 
4.  <span data-ttu-id="99d6f-148">قم بتحميل ملف bacpac إلى تخزين Azure (موصى به) أو مكتبة أصول Lifecycle Services (يستغرق وقتاً أطول).</span><span class="sxs-lookup"><span data-stu-id="99d6f-148">Upload the bacpac file to Azure storage (recommended) or Lifecycle Services asset library (takes longer).</span></span>
5.  <span data-ttu-id="99d6f-149">قم باستيراد ملف bacpac إلى قاعدة بيانات Azure SQL من بيئة مستضافة على السحابة تعمل في نفس المنطقة مثل بيئة آلية اختبار معزولة.</span><span class="sxs-lookup"><span data-stu-id="99d6f-149">Import the bacpac file into Azure SQL Database from a cloud-hosted environment that is running in the same region as the sandbox environment.</span></span>
6.  <span data-ttu-id="99d6f-150">قم بتشغيل برنامج نصي T-SQL مقابل قاعدة البيانات المستوردة لإعادة تعيين مستخدمي قاعدة بيانات SQL.</span><span class="sxs-lookup"><span data-stu-id="99d6f-150">Run T-SQL script against the imported database to reset the SQL database users.</span></span> 
7.  <span data-ttu-id="99d6f-151">قم بتشغيل حزمة ترقية البيانات المناسبة مقابل قاعدة البيانات المستوردة.</span><span class="sxs-lookup"><span data-stu-id="99d6f-151">Run the appropriate data upgrade package against the imported database.</span></span> 

<span data-ttu-id="99d6f-152">لمزيد من المعلومات، راجع [الترقية من Dynamics AX 2012 – ترقية البيانات في بيئات اختبار معزولة](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/migration-upgrade/upgrade-data-sandbox/?azure-portal=true).</span><span class="sxs-lookup"><span data-stu-id="99d6f-152">For more information, see [Upgrade from Dynamics AX 2012 – Data upgrade in sandbox environments](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/migration-upgrade/upgrade-data-sandbox/?azure-portal=true).</span></span>


